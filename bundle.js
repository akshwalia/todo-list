(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})}};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var o=n.getElementsByTagName("script");if(o.length)for(var d=o.length-1;d>-1&&!t;)t=o[d--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.d({},{O:()=>R,w:()=>U});const t=e.p+"de7ced177d66bb006694.svg",n=e.p+"c2e6e6dd118d33c26922.svg";let o=1;const d=document.querySelector(".tasks"),c=document.querySelector(".rightpanelheading");function r(e){const c=document.createElement("div");c.classList.add("task");const r=document.createElement("input");r.type="checkbox",r.id=`${o}`,r.classList.add("checkbox");const i=document.createElement("label");i.setAttribute("for",`${o}`),i.innerHTML=`${e.name}`;let a=document.createElement("img");"yes"===e.important?a.src=t:a.src=n,a.classList.add("important");const s=document.createElement("div");s.innerHTML=`${e.date}`||"--",s.classList.add("date"),o++,c.appendChild(r),c.appendChild(i),c.appendChild(a),c.appendChild(s),d.appendChild(c),a.addEventListener("click",(()=>{"no"===e.important?(a.src=t,e.important="yes"):(a.src=n,e.important="no")})),"yes"==e.completed&&(i.style.textDecoration="line-through",c.style.backgroundColor="#d4d4d4",r.checked=!0),r.addEventListener("click",(()=>{1==r.checked?(i.style.textDecoration="line-through",c.style.backgroundColor="#d4d4d4",e.completed="yes"):(i.style.textDecoration="none",c.style.backgroundColor="rgb(222, 222, 252)",e.completed="no")}))}function i(){document.querySelectorAll(".options");const e=document.querySelector(".active");let t=[];for(let n of U)e.innerHTML==n.projectname&&t.push(n);if(t.length){c.innerHTML=`${e.innerHTML}`,d.innerHTML="";for(let e of t)r(e)}else d.innerHTML="",f(e.innerHTML)}function a(e,t,n,o,d){return{name:e,projectname:t,important:n,date:o,completed:d}}document.querySelector(".rightpanel");const s=document.querySelector(".rightpanelheading"),l=document.querySelector(".addtaskcontainer"),u=document.querySelector(".tasks");u.innerHTML="";const m=document.createElement("div");m.classList.add("addtask"),m.innerHTML="+";const p=document.querySelector(".popupcontainer");let L=!0;function h(){l.innerHTML="",l.appendChild(m)}function f(e){s.innerHTML=`${e}`,u.innerHTML="",h(),m.addEventListener("click",(()=>{!function(){L=!0,p.classList.remove("hidden");const e=document.querySelector(".formbox"),t=document.querySelector(".buttons");t.innerHTML="";const n=document.createElement("button"),o=document.createElement("button");n.innerHTML="Add",o.innerHTML="Cancel",o.setAttribute("type","button"),n.setAttribute("type","button"),t.appendChild(n),t.appendChild(o),n.addEventListener("click",(()=>{!function(){const e=document.querySelector(".active"),t=document.getElementById("title"),n=document.getElementById("important"),o=document.getElementById("date"),d=new a(t.value,e.innerHTML,n.value,o.value,"no");U.push(d),t.value="",n.value="no",o.value=""}(),p.classList.add("hidden"),L=!1,i()})),o.addEventListener("click",(e=>{p.classList.add("hidden")})),document.addEventListener("keydown",(e=>{L&&"Enter"===e.key&&n.click()})),e.addEventListener("click",(e=>{e.stopPropagation()})),p.addEventListener("click",(e=>{e.stopPropagation(),p.classList.add("hidden")}))}()}))}let y=0,g=document.querySelectorAll(".option");function T(){g.forEach((e=>{e.classList.remove("selected")}))}function k(){document.querySelector(".active").classList.remove("active")}const v=document.querySelector(".projectcontainer");let H=!0,M=!0;function E(){if(H){const e=document.createElement("input");e.setAttribute("type","text"),e.setAttribute("id","inputbox"),e.style.margin="8px 12px";const t=document.createElement("projecticon");t.classList.add("projecticon"),t.style.backgroundColor=`${R[y]}`,y++,6==y&&(y=0);const n=document.createElement("div"),o=document.createElement("div");o.classList.add("option"),o.classList.add("projectoption"),v.appendChild(e),e.focus(),H=!1;let d=!1;document.addEventListener("keydown",(c=>{"Enter"!=c.key||""===e.value||d||(n.innerHTML=`${e.value}`,v.removeChild(e),H=!0,o.appendChild(t),o.appendChild(n),v.appendChild(o),g=document.querySelectorAll(".option"),T(),M||k(),o.classList.add("selected"),n.classList.add("active"),M=!1,f(e.value),d=!0,document.removeEventListener("keydown",(()=>{})))})),o.addEventListener("click",(()=>{T(),k(),o.classList.add("selected"),n.classList.add("active"),U.length?(h(),i()):f(document.querySelector(".active").innerHTML)}))}else v.removeChild(document.getElementById("inputbox")),H=!0}const S=document.querySelector(".rightpanelheading"),b=document.querySelector(".tasks"),q=document.querySelector(".addtaskcontainer");let C=[];function w(e){if(S.innerHTML="Your Today's Tasks",b.innerHTML="",e.length){q.innerHTML="",b.innerHTML="";const t=new Date;C=[];for(let n of e){const e=new Date(n.date);t.toDateString()==e.toDateString()&&C.push(n)}if(C.length){b.innerHTML="";for(let e of C)r(e)}else b.innerHTML="No tasks scheduled for today"}else{b.innerHTML="No Task here, add a project and add tasks to get started";const e=document.createElement("div");e.innerHTML="+ Add Project",e.classList.add("addprojectfresh"),b.appendChild(e),e.addEventListener("click",E)}}const j=document.querySelector(".rightpanelheading"),A=document.querySelector(".tasks");let x=[];const D=document.querySelector(".addtaskcontainer"),$=document.querySelector(".rightpanelheading"),B=document.querySelector(".tasks"),I=document.querySelector(".addtaskcontainer");let N=[];const P=document.querySelector(".rightpanelheading"),O=document.querySelector(".tasks"),F=document.querySelector(".addtaskcontainer");let Y=[];const z=document.getElementById("today"),G=document.getElementById("thisweek"),J=document.getElementById("importantmenu"),K=document.getElementById("completed"),Q=document.querySelector(".addproject"),R=["#ffaeae","#ffee93","#ffc09f","#a39fe1","#fcf5c7","#a0ced9","#adf7b6"];let U=[];w(U),z.addEventListener("click",(()=>{T(),z.classList.add("selected"),w(U)})),G.addEventListener("click",(()=>{T(),G.classList.add("selected"),function(e){if(j.innerHTML="Tasks for this week",A.innerHTML="",e.length){D.innerHTML="",x=[],A.innerHTML="";const t=new Date,n=t.getDay(),o=t.getTime()-864e5*n,d=t.getTime()+864e5*(7-n);for(let t of e){const e=new Date(t.date);e.getTime()>o&&e.getTime()<d&&x.push(t)}if(x.length){A.innerHTML="";for(let e of x)r(e)}else A.innerHTML="No tasks scheduled for this week"}else{A.innerHTML="No Task here, add a project and add tasks to get started";const e=document.createElement("div");e.innerHTML="+ Add Project",e.classList.add("addprojectfresh"),A.appendChild(e),e.addEventListener("click",E)}}(U)})),J.addEventListener("click",(()=>{T(),J.classList.add("selected"),function(e){if($.innerHTML="Important Tasks",B.innerHTML="",e.length){I.innerHTML="",B.innerHTML="",N=[];for(let t of e)new Date(t.date),"yes"==t.important&&N.push(t);if(N.length){B.innerHTML="";for(let e of N)r(e)}else B.innerHTML="No tasks marked as important"}else{B.innerHTML="No Task here, add a project and add tasks to get started";const e=document.createElement("div");e.innerHTML="+ Add Project",e.classList.add("addprojectfresh"),B.appendChild(e),e.addEventListener("click",E)}}(U)})),K.addEventListener("click",(()=>{T(),K.classList.add("selected"),function(e){if(P.innerHTML="Completed Tasks",O.innerHTML="",e.length){F.innerHTML="",Y=[],O.innerHTML="";for(let t of e)"yes"==t.completed&&Y.push(t);if(Y.length){O.innerHTML="";for(let e of Y)r(e)}else O.innerHTML="No tasks completed"}else O.innerHTML="No tasks completed"}(U)})),Q.addEventListener("click",E)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUU3QixNQVBJLEVBQWNsQixVQUFZLDhCQVFsQyxLQS9Ca0IsQ0FDZCxFQUFjQSxVQUFZLDJEQUMxQixNQUFNNkQsRUFBYXJGLFNBQVNnQixjQUFjLE9BQzFDcUUsRUFBVzdELFVBQVksZ0JBQ3ZCNkQsRUFBV3BFLFVBQVVDLElBQUksbUJBQ3pCLEVBQWNVLFlBQVl5RCxHQUUxQkEsRUFBV3hELGlCQUFpQixRQUFTd0MsRUFDekMsQ0F5QkosQ0ViSTJCLENBQWtCekQsRUFBTSxJQUc1QlQsRUFBVUQsaUJBQWlCLFNBQVMsS0FDaENrQyxJQUNBakMsRUFBVWIsVUFBVUMsSUFBSSxZRDFCYixTQUEyQnFCLEdBR3RDLEdBRkEsRUFBUWYsVUFBWSxrQkFDcEIsRUFBY0EsVUFBWSxHQUN0QmUsRUFBTWxDLE9BR0wsQ0FDRCxFQUFpQm1CLFVBQVksR0FFN0JnRSxFQUFpQixHQUNqQixFQUFjaEUsVUFBWSxHQUUxQixJQUFJLElBQUlWLEtBQVF5QixFQUNTLE9BQWxCekIsRUFBS2dCLFdBQ0owRCxFQUFlL0MsS0FBSzNCLEdBSTVCLEdBQUkwRSxFQUFlbkYsT0FHZCxDQUNELEVBQWNtQixVQUFZLEdBQzFCLElBQUksSUFBSWtCLEtBQVk4QyxFQUNoQjNFLEVBQXFCNkIsRUFFN0IsTUFQSSxFQUFjbEIsVUFBWSxvQkFRbEMsTUF2QkksRUFBY0EsVUFBWSxvQkF3QmxDLENDREl5RSxDQUFrQjFELEVBQU0sSUFHNUI4QyxFQUFXeEQsaUJBQWlCLFFBQVN3QyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9nbG9iYWwiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy91cGRhdGluZ1Rhc2tzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy90YXNrTWFuaXB1bGF0aW9uLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9wcm9qZWN0UGFnZS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvYWRkcmVtb3ZlUHJvamVjdHMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3RvZGF5LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy90aGlzd2Vlay5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW1wb3J0YW50LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9jb21wbGV0ZWQuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJ2YXIgc2NyaXB0VXJsO1xuaWYgKF9fd2VicGFja19yZXF1aXJlX18uZy5pbXBvcnRTY3JpcHRzKSBzY3JpcHRVcmwgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcubG9jYXRpb24gKyBcIlwiO1xudmFyIGRvY3VtZW50ID0gX193ZWJwYWNrX3JlcXVpcmVfXy5nLmRvY3VtZW50O1xuaWYgKCFzY3JpcHRVcmwgJiYgZG9jdW1lbnQpIHtcblx0aWYgKGRvY3VtZW50LmN1cnJlbnRTY3JpcHQpXG5cdFx0c2NyaXB0VXJsID0gZG9jdW1lbnQuY3VycmVudFNjcmlwdC5zcmM7XG5cdGlmICghc2NyaXB0VXJsKSB7XG5cdFx0dmFyIHNjcmlwdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInNjcmlwdFwiKTtcblx0XHRpZihzY3JpcHRzLmxlbmd0aCkge1xuXHRcdFx0dmFyIGkgPSBzY3JpcHRzLmxlbmd0aCAtIDE7XG5cdFx0XHR3aGlsZSAoaSA+IC0xICYmICFzY3JpcHRVcmwpIHNjcmlwdFVybCA9IHNjcmlwdHNbaS0tXS5zcmM7XG5cdFx0fVxuXHR9XG59XG4vLyBXaGVuIHN1cHBvcnRpbmcgYnJvd3NlcnMgd2hlcmUgYW4gYXV0b21hdGljIHB1YmxpY1BhdGggaXMgbm90IHN1cHBvcnRlZCB5b3UgbXVzdCBzcGVjaWZ5IGFuIG91dHB1dC5wdWJsaWNQYXRoIG1hbnVhbGx5IHZpYSBjb25maWd1cmF0aW9uXG4vLyBvciBwYXNzIGFuIGVtcHR5IHN0cmluZyAoXCJcIikgYW5kIHNldCB0aGUgX193ZWJwYWNrX3B1YmxpY19wYXRoX18gdmFyaWFibGUgZnJvbSB5b3VyIGNvZGUgdG8gdXNlIHlvdXIgb3duIGxvZ2ljLlxuaWYgKCFzY3JpcHRVcmwpIHRocm93IG5ldyBFcnJvcihcIkF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBicm93c2VyXCIpO1xuc2NyaXB0VXJsID0gc2NyaXB0VXJsLnJlcGxhY2UoLyMuKiQvLCBcIlwiKS5yZXBsYWNlKC9cXD8uKiQvLCBcIlwiKS5yZXBsYWNlKC9cXC9bXlxcL10rJC8sIFwiL1wiKTtcbl9fd2VicGFja19yZXF1aXJlX18ucCA9IHNjcmlwdFVybDsiLCJpbXBvcnQgeyB0YXNrcyB9IGZyb20gXCIuL2luZGV4XCI7XG5pbXBvcnQgZGlzcGxheVN0YXJ0UHJvamVjdFBhZ2UgZnJvbSBcIi4vcHJvamVjdFBhZ2VcIjtcblxuaW1wb3J0IHN0YXJGdWxsIGZyb20gJy4vaW1hZ2VzL3N0YXIuc3ZnJztcbmltcG9ydCBzdGFyT3V0bGluZSBmcm9tICcuL2ltYWdlcy9zdGFyLW91dGxpbmUuc3ZnJ1xuXG5sZXQgaSA9IDE7XG5cbmNvbnN0IHRhc2tjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza3MnKTtcbmNvbnN0IGhlYWRpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmlnaHRwYW5lbGhlYWRpbmcnKTtcblxuZnVuY3Rpb24gZGlzcGxheVRhc2tzT25TY3JlZW4odGFzaykge1xuICAgIGNvbnN0IHRhc2tyb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0YXNrcm93LmNsYXNzTGlzdC5hZGQoJ3Rhc2snKTtcblxuICAgIGNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBjaGVja2JveC50eXBlID0gXCJjaGVja2JveFwiO1xuICAgIGNoZWNrYm94LmlkID0gYCR7aX1gO1xuICAgIGNoZWNrYm94LmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94Jyk7XG4gICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgYCR7aX1gKTtcbiAgICBsYWJlbC5pbm5lckhUTUwgPSBgJHt0YXNrLm5hbWV9YDtcbiAgICBsZXQgaW1wb3J0YW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgXG4gICAgaWYgKHRhc2suaW1wb3J0YW50ID09PSAneWVzJykge1xuICAgICAgICBpbXBvcnRhbnQuc3JjID0gc3RhckZ1bGw7XG4gICAgfVxuICAgIGVsc2VcbiAgICAgICAgaW1wb3J0YW50LnNyYyA9IHN0YXJPdXRsaW5lO1xuXG4gICAgaW1wb3J0YW50LmNsYXNzTGlzdC5hZGQoJ2ltcG9ydGFudCcpO1xuICAgIGNvbnN0IGRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkYXRlLmlubmVySFRNTCA9IGAke3Rhc2suZGF0ZX1gIHx8ICctLSc7XG4gICAgZGF0ZS5jbGFzc0xpc3QuYWRkKCdkYXRlJyk7XG4gICAgaSsrO1xuXG4gICAgdGFza3Jvdy5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gICAgdGFza3Jvdy5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgdGFza3Jvdy5hcHBlbmRDaGlsZChpbXBvcnRhbnQpO1xuICAgIHRhc2tyb3cuYXBwZW5kQ2hpbGQoZGF0ZSk7XG5cbiAgICB0YXNrY29udGFpbmVyLmFwcGVuZENoaWxkKHRhc2tyb3cpO1xuXG4gICAgaW1wb3J0YW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBpZiAodGFzay5pbXBvcnRhbnQgPT09ICdubycpIHtcbiAgICAgICAgICAgIGltcG9ydGFudC5zcmMgPSBzdGFyRnVsbDtcbiAgICAgICAgICAgIHRhc2suaW1wb3J0YW50ID0gJ3llcyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpbXBvcnRhbnQuc3JjID0gc3Rhck91dGxpbmU7XG4gICAgICAgICAgICB0YXNrLmltcG9ydGFudCA9ICdubyc7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGlmKHRhc2suY29tcGxldGVkID09ICd5ZXMnKSB7XG4gICAgICAgIGxhYmVsLnN0eWxlLnRleHREZWNvcmF0aW9uID0gXCJsaW5lLXRocm91Z2hcIjtcbiAgICAgICAgdGFza3Jvdy5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcIiNkNGQ0ZDRcIjtcbiAgICAgICAgY2hlY2tib3guY2hlY2tlZCA9IHRydWU7XG4gICAgfVxuICAgIFxuICAgIFxuXG4gICAgY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkID09IHRydWUpIHtcbiAgICAgICAgICAgIGxhYmVsLnN0eWxlLnRleHREZWNvcmF0aW9uID0gXCJsaW5lLXRocm91Z2hcIjtcbiAgICAgICAgICAgIHRhc2tyb3cuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCIjZDRkNGQ0XCI7XG4gICAgICAgICAgICB0YXNrLmNvbXBsZXRlZCA9ICd5ZXMnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGFiZWwuc3R5bGUudGV4dERlY29yYXRpb24gPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIHRhc2tyb3cuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2IoMjIyLCAyMjIsIDI1MilcIjtcbiAgICAgICAgICAgIHRhc2suY29tcGxldGVkID0gJ25vJztcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiB1cGRhdGVQYW5lbCgpIHtcbiAgICBjb25zdCBtZW51b3B0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vcHRpb25zJyk7XG5cbiAgICBjb25zdCBjdXJyZW50bHlTZWxlY3RlZFByb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJyk7ICAvL2V4dHJhY3RzIHRoZSBuYW1lIG9mIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgcHJvamVjdFxuXG4gICAgbGV0IHRhc2tzSW5DdXJyZW50bHlTZWxlY3RlZFByb2plY3QgPSBbXTtcblxuICAgIGZvciAobGV0IHRhc2sgb2YgdGFza3MpIHtcbiAgICAgICAgaWYgKGN1cnJlbnRseVNlbGVjdGVkUHJvamVjdC5pbm5lckhUTUwgPT0gdGFzay5wcm9qZWN0bmFtZSkge1xuICAgICAgICAgICAgdGFza3NJbkN1cnJlbnRseVNlbGVjdGVkUHJvamVjdC5wdXNoKHRhc2spO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCF0YXNrc0luQ3VycmVudGx5U2VsZWN0ZWRQcm9qZWN0Lmxlbmd0aCkge1xuICAgICAgICB0YXNrY29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgIGRpc3BsYXlTdGFydFByb2plY3RQYWdlKGN1cnJlbnRseVNlbGVjdGVkUHJvamVjdC5pbm5lckhUTUwpO1xuICAgIH1cblxuICAgIGVsc2Uge1xuICAgICAgICBoZWFkaW5nLmlubmVySFRNTCA9IGAke2N1cnJlbnRseVNlbGVjdGVkUHJvamVjdC5pbm5lckhUTUx9YDtcbiAgICAgICAgdGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICBmb3IgKGxldCBlYWNodGFzayBvZiB0YXNrc0luQ3VycmVudGx5U2VsZWN0ZWRQcm9qZWN0KSB7XG4gICAgICAgICAgICBkaXNwbGF5VGFza3NPblNjcmVlbihlYWNodGFzayk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCB7IGRpc3BsYXlUYXNrc09uU2NyZWVuIH07IiwiaW1wb3J0IHsgdGFza3MgfSBmcm9tIFwiLi9pbmRleFwiO1xuaW1wb3J0IHVwZGF0ZVBhbmVsIGZyb20gXCIuL3VwZGF0aW5nVGFza3NcIjtcblxuXG5mdW5jdGlvbiBjcmVhdGVUYXNrT2JqZWN0KG5hbWUsIHByb2plY3RuYW1lLCBpbXBvcnRhbnQsIGRhdGUsIGNvbXBsZXRlZCkge1xuICAgIHJldHVybiB7IG5hbWUsIHByb2plY3RuYW1lLCBpbXBvcnRhbnQsIGRhdGUsIGNvbXBsZXRlZCB9O1xufVxuXG5mdW5jdGlvbiBhZGRUYXNrT2JqZWN0KCkge1xuICAgIGNvbnN0IGN1cnJlbnRseVNlbGVjdGVkUHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUnKTtcblxuICAgIGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RpdGxlJyk7XG4gICAgY29uc3QgaW1wb3J0YW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ltcG9ydGFudCcpO1xuICAgIGNvbnN0IGRhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGF0ZScpO1xuXG4gICAgY29uc3QgbmV3dGFzayA9IG5ldyBjcmVhdGVUYXNrT2JqZWN0KHRpdGxlLnZhbHVlLGN1cnJlbnRseVNlbGVjdGVkUHJvamVjdC5pbm5lckhUTUwsaW1wb3J0YW50LnZhbHVlLGRhdGUudmFsdWUsJ25vJyk7XG5cbiAgICB0YXNrcy5wdXNoKG5ld3Rhc2spO1xuXG4gICAgdGl0bGUudmFsdWU9XCJcIjtcbiAgICBpbXBvcnRhbnQudmFsdWU9XCJub1wiO1xuICAgIGRhdGUudmFsdWU9XCJcIjtcbn1cblxuZXhwb3J0IHsgYWRkVGFza09iamVjdCB9OyIsImltcG9ydCB7IHRhc2tzIH0gZnJvbSBcIi4vaW5kZXhcIjtcbmltcG9ydCB7IGFkZFRhc2tPYmplY3QgfSBmcm9tIFwiLi90YXNrTWFuaXB1bGF0aW9uXCI7XG5pbXBvcnQgdXBkYXRlUGFuZWwgZnJvbSBcIi4vdXBkYXRpbmdUYXNrc1wiO1xuXG5jb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmlnaHRwYW5lbCcpO1xuY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yaWdodHBhbmVsaGVhZGluZycpO1xuY29uc3QgYWRkVGFza0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGR0YXNrY29udGFpbmVyJyk7XG5cbmNvbnN0IHRhc2tjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza3MnKTtcbnRhc2tjb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcblxuY29uc3QgYWRkVGFzayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuYWRkVGFzay5jbGFzc0xpc3QuYWRkKCdhZGR0YXNrJyk7XG5hZGRUYXNrLmlubmVySFRNTCA9IFwiK1wiO1xubGV0IGZpcnN0ID0gdHJ1ZTtcbmNvbnN0IHBvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnBvcHVwY29udGFpbmVyJyk7XG5cbmxldCBwcmVzZW50ID0gdHJ1ZTtcblxuXG5mdW5jdGlvbiBhZGRUYXNrUG9wdXAoKSB7XG4gICAgcHJlc2VudCA9IHRydWU7XG5cbiAgICBwb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcblxuICAgIGNvbnN0IGZvcm1ib3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybWJveCcpO1xuXG4gICAgY29uc3QgYnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXR0b25zJyk7XG5cbiAgICBidXR0b25zLmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICBjb25zdCBhZGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBjb25zdCBjYW5jZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICBhZGQuaW5uZXJIVE1MID0gXCJBZGRcIjtcbiAgICBjYW5jZWwuaW5uZXJIVE1MID0gXCJDYW5jZWxcIjtcblxuICAgIGNhbmNlbC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG4gICAgYWRkLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcblxuICAgIGJ1dHRvbnMuYXBwZW5kQ2hpbGQoYWRkKTtcbiAgICBidXR0b25zLmFwcGVuZENoaWxkKGNhbmNlbCk7XG5cbiAgICAvL3NlbmRzIGZvciBvYmplY3QgY3JlYXRpb24gYW5kIGFkZGl0aW9uXG4gICAgYWRkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICBhZGRUYXNrT2JqZWN0KCk7XG4gICAgICAgIHBvcHVwLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBwcmVzZW50ID0gZmFsc2U7XG4gICAgICAgIHVwZGF0ZVBhbmVsKCk7XG4gICAgfSk7XG5cbiAgICAvL2NhbmNlbCBidXR0b24gcmVtb3ZlcyB0aGUgb3ZlcmxheVxuICAgIGNhbmNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIHBvcHVwLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH0pO1xuXG4gICAgLy9saW5rcyBlbnRlciAga2V5IHRvIGFkZCBidXR0b25cbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICAgICAgaWYgKHByZXNlbnQpIHtcbiAgICAgICAgICAgIGlmIChlLmtleSA9PT0gXCJFbnRlclwiKSB7XG4gICAgICAgICAgICAgICAgYWRkLmNsaWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vcHJldmVudHMgYnViYmxpbmdcbiAgICBmb3JtYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9KTtcbiAgICAvL292ZXJsYXkgY2xvc2VzIHdoZW4gY2xpY2tlZCBvbiBiYWNrZ3JvdW5kXG4gICAgcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZGlzcGxheUFkZFRhc2sgKCkge1xuICAgIGFkZFRhc2tDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgICBhZGRUYXNrQ29udGFpbmVyLmFwcGVuZENoaWxkKGFkZFRhc2spO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkaXNwbGF5U3RhcnRQcm9qZWN0UGFnZShuYW1lKSB7XG4gICAgaGVhZGluZy5pbm5lckhUTUwgPSBgJHtuYW1lfWA7XG4gICAgdGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgZGlzcGxheUFkZFRhc2soKTtcblxuICAgIGFkZFRhc2suYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGFkZFRhc2tQb3B1cCgpO1xuICAgIH0pO1xuXG59XG5cbmV4cG9ydCB7IGFkZFRhc2ssZGlzcGxheUFkZFRhc2sgfTsiLCJpbXBvcnQgeyBjb2xvcnMsIHRhc2tzIH0gZnJvbSBcIi4vaW5kZXhcIjtcbmltcG9ydCBkaXNwbGF5U3RhcnRQcm9qZWN0UGFnZSwgeyBkaXNwbGF5QWRkVGFzayB9IGZyb20gXCIuL3Byb2plY3RQYWdlXCI7XG5pbXBvcnQgdXBkYXRlUGFuZWwgZnJvbSBcIi4vdXBkYXRpbmdUYXNrc1wiO1xuXG5sZXQgaT0wO1xuXG5sZXQgb3B0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vcHRpb24nKTtcblxuZnVuY3Rpb24gcmVtb3ZlU2VsZWN0ZWRDbGFzcygpIHtcbiAgICBvcHRpb25zLmZvckVhY2gob3B0ID0+IHtcbiAgICAgICAgb3B0LmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUFjdGl2ZUNsYXNzKCkge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbn1cblxuY29uc3QgcHJvamVjdENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9qZWN0Y29udGFpbmVyJyk7XG5cbmxldCBub3RQcmVzZW50ID0gdHJ1ZTtcbmxldCBmaXJzdD10cnVlO1xuXG5mdW5jdGlvbiBhZGROZXdQcm9qZWN0KCkge1xuICAgIGlmIChub3RQcmVzZW50KSB7XG4gICAgICAgIGNvbnN0IGlucHV0Ym94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKVxuICAgICAgICBpbnB1dGJveC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dCcpO1xuICAgICAgICBpbnB1dGJveC5zZXRBdHRyaWJ1dGUoJ2lkJywgJ2lucHV0Ym94JylcbiAgICAgICAgaW5wdXRib3guc3R5bGUubWFyZ2luID0gXCI4cHggMTJweFwiO1xuXG4gICAgICAgIGNvbnN0IHByb2plY3RpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncHJvamVjdGljb24nKTtcbiAgICAgICAgcHJvamVjdGljb24uY2xhc3NMaXN0LmFkZCgncHJvamVjdGljb24nKTtcbiAgICAgICAgcHJvamVjdGljb24uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gYCR7Y29sb3JzW2ldfWA7XG4gICAgICAgIGkrKztcbiAgICAgICAgaWYoaT09NilcbiAgICAgICAgICAgIGk9MDtcblxuICAgICAgICBjb25zdCBwcm9qZWN0bmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBvcHRpb24uY2xhc3NMaXN0LmFkZCgnb3B0aW9uJyk7XG4gICAgICAgIG9wdGlvbi5jbGFzc0xpc3QuYWRkKCdwcm9qZWN0b3B0aW9uJyk7XG5cblxuICAgICAgICBwcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKGlucHV0Ym94KTtcblxuICAgICAgICBpbnB1dGJveC5mb2N1cygpO1xuXG4gICAgICAgIG5vdFByZXNlbnQgPSBmYWxzZTtcblxuICAgICAgICBsZXQgZG9uZSA9IGZhbHNlO1xuXG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgICAgICAgICAgaWYgKGUua2V5ID09IFwiRW50ZXJcIiAmJiBpbnB1dGJveC52YWx1ZSAhPT0gXCJcIiAmJiAhZG9uZSkge1xuICAgICAgICAgICAgICAgIHByb2plY3RuYW1lLmlubmVySFRNTCA9IGAke2lucHV0Ym94LnZhbHVlfWA7XG4gICAgICAgICAgICAgICAgcHJvamVjdENvbnRhaW5lci5yZW1vdmVDaGlsZChpbnB1dGJveCk7XG4gICAgICAgICAgICAgICAgbm90UHJlc2VudCA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICBvcHRpb24uYXBwZW5kQ2hpbGQocHJvamVjdGljb24pO1xuICAgICAgICAgICAgICAgIG9wdGlvbi5hcHBlbmRDaGlsZChwcm9qZWN0bmFtZSk7XG5cbiAgICAgICAgICAgICAgICBwcm9qZWN0Q29udGFpbmVyLmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICAgICAgICAgICAgXG5cbiAgICAgICAgICAgICAgICBvcHRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm9wdGlvbicpO1xuXG4gICAgICAgICAgICAgICAgcmVtb3ZlU2VsZWN0ZWRDbGFzcygpO1xuICAgICAgICAgICAgICAgIGlmKCFmaXJzdCkge1xuICAgICAgICAgICAgICAgICAgICByZW1vdmVBY3RpdmVDbGFzcygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvcHRpb24uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgICAgICBwcm9qZWN0bmFtZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBmaXJzdD1mYWxzZTtcbiAgICAgICAgICAgICAgICBkaXNwbGF5U3RhcnRQcm9qZWN0UGFnZShpbnB1dGJveC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZG9uZSA9dHJ1ZTtcblxuICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoKSA9PiB7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIHJlbW92ZVNlbGVjdGVkQ2xhc3MoKTtcbiAgICAgICAgICAgIHJlbW92ZUFjdGl2ZUNsYXNzKCk7XG4gICAgICAgICAgICBvcHRpb24uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICAgIHByb2plY3RuYW1lLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZighdGFza3MubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGRpc3BsYXlTdGFydFByb2plY3RQYWdlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUnKS5pbm5lckhUTUwpO1xuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheUFkZFRhc2soKTtcbiAgICAgICAgICAgICAgICB1cGRhdGVQYW5lbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcHJvamVjdENvbnRhaW5lci5yZW1vdmVDaGlsZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXRib3gnKSk7XG4gICAgICAgIG5vdFByZXNlbnQ9dHJ1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCB7cmVtb3ZlU2VsZWN0ZWRDbGFzcyxhZGROZXdQcm9qZWN0fTsiLCJpbXBvcnQgeyBhZGROZXdQcm9qZWN0IH0gZnJvbSBcIi4vYWRkcmVtb3ZlUHJvamVjdHNcIjtcbmltcG9ydCB7IHRhc2tzIH0gZnJvbSBcIi4vaW5kZXhcIjtcbmltcG9ydCB7IGRpc3BsYXlUYXNrc09uU2NyZWVuIH0gZnJvbSBcIi4vdXBkYXRpbmdUYXNrc1wiO1xuXG5jb25zdCBoZWFkaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJpZ2h0cGFuZWxoZWFkaW5nJyk7XG5cbmNvbnN0IHRhc2tjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza3MnKTtcblxuY29uc3QgYWRkVGFza0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGR0YXNrY29udGFpbmVyJyk7XG5cbmxldCB0b2RheVRhc2tzID0gW107XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNob3dUb2RheVBhZ2UodGFza3MpIHtcbiAgICBoZWFkaW5nLmlubmVySFRNTCA9IFwiWW91ciBUb2RheSdzIFRhc2tzXCI7XG4gICAgdGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgIGlmKCF0YXNrcy5sZW5ndGgpIHtcbiAgICAgICAgdGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIk5vIFRhc2sgaGVyZSwgYWRkIGEgcHJvamVjdCBhbmQgYWRkIHRhc2tzIHRvIGdldCBzdGFydGVkXCJcbiAgICAgICAgY29uc3QgYWRkcHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBhZGRwcm9qZWN0LmlubmVySFRNTCA9IFwiKyBBZGQgUHJvamVjdFwiO1xuICAgICAgICBhZGRwcm9qZWN0LmNsYXNzTGlzdC5hZGQoJ2FkZHByb2plY3RmcmVzaCcpO1xuICAgICAgICB0YXNrY29udGFpbmVyLmFwcGVuZENoaWxkKGFkZHByb2plY3QpO1xuXG4gICAgICAgIGFkZHByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGROZXdQcm9qZWN0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFkZFRhc2tDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgXG4gICAgICAgIHRhc2tjb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0b2RheVRhc2tzID0gW107XG4gICAgICAgIFxuICAgICAgICBmb3IobGV0IHRhc2sgb2YgdGFza3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tkYXRlID0gbmV3IERhdGUodGFzay5kYXRlKTtcbiAgICAgICAgICAgIGlmKHRvZGF5LnRvRGF0ZVN0cmluZygpID09IHRhc2tkYXRlLnRvRGF0ZVN0cmluZygpKSB7XG4gICAgICAgICAgICAgICAgdG9kYXlUYXNrcy5wdXNoKHRhc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYoIXRvZGF5VGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgICB0YXNrY29udGFpbmVyLmlubmVySFRNTCA9IFwiTm8gdGFza3Mgc2NoZWR1bGVkIGZvciB0b2RheVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICAgICAgZm9yKGxldCBlYWNodGFzayBvZiB0b2RheVRhc2tzKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheVRhc2tzT25TY3JlZW4oZWFjaHRhc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgYWRkTmV3UHJvamVjdCB9IGZyb20gXCIuL2FkZHJlbW92ZVByb2plY3RzXCI7XG5pbXBvcnQgeyB0YXNrcyB9IGZyb20gXCIuL2luZGV4XCI7XG5pbXBvcnQgeyBkaXNwbGF5VGFza3NPblNjcmVlbiB9IGZyb20gXCIuL3VwZGF0aW5nVGFza3NcIjtcblxuXG5jb25zdCBoZWFkaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJpZ2h0cGFuZWxoZWFkaW5nJyk7XG5cbmNvbnN0IHRhc2tjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza3MnKTtcblxubGV0IHdlZWtUYXNrcyA9IFtdO1xuXG5jb25zdCBhZGRUYXNrQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZHRhc2tjb250YWluZXInKTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2hvd1dlZWtQYWdlKHRhc2tzKSB7XG4gICAgaGVhZGluZy5pbm5lckhUTUwgPSBcIlRhc2tzIGZvciB0aGlzIHdlZWtcIjtcbiAgICB0YXNrY29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gICAgaWYoIXRhc2tzLmxlbmd0aCkge1xuICAgICAgICB0YXNrY29udGFpbmVyLmlubmVySFRNTCA9IFwiTm8gVGFzayBoZXJlLCBhZGQgYSBwcm9qZWN0IGFuZCBhZGQgdGFza3MgdG8gZ2V0IHN0YXJ0ZWRcIlxuICAgICAgICBjb25zdCBhZGRwcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGFkZHByb2plY3QuaW5uZXJIVE1MID0gXCIrIEFkZCBQcm9qZWN0XCI7XG4gICAgICAgIGFkZHByb2plY3QuY2xhc3NMaXN0LmFkZCgnYWRkcHJvamVjdGZyZXNoJyk7XG4gICAgICAgIHRhc2tjb250YWluZXIuYXBwZW5kQ2hpbGQoYWRkcHJvamVjdCk7XG5cbiAgICAgICAgYWRkcHJvamVjdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZE5ld1Byb2plY3QpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYWRkVGFza0NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICBcbiAgICAgICAgd2Vla1Rhc2tzID0gW107XG4gICAgICAgIHRhc2tjb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBkYXkgPSB0b2RheS5nZXREYXkoKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHN0YXJ0ID0gdG9kYXkuZ2V0VGltZSgpIC0gZGF5Kjg2NDAwMDAwO1xuICAgICAgICBjb25zdCBlbmQgPSB0b2RheS5nZXRUaW1lKCkgKyAoNy1kYXkpKjg2NDAwMDAwO1xuXG4gICAgICAgIGZvcihsZXQgdGFzayBvZiB0YXNrcykge1xuICAgICAgICAgICAgY29uc3QgdGFza2RhdGUgPSBuZXcgRGF0ZSh0YXNrLmRhdGUpO1xuICAgICAgICAgICAgaWYodGFza2RhdGUuZ2V0VGltZSgpID4gc3RhcnQgJiYgdGFza2RhdGUuZ2V0VGltZSgpIDwgZW5kKSB7XG4gICAgICAgICAgICAgICAgd2Vla1Rhc2tzLnB1c2godGFzayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZighd2Vla1Rhc2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIk5vIHRhc2tzIHNjaGVkdWxlZCBmb3IgdGhpcyB3ZWVrXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0YXNrY29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gICAgICAgICAgICBmb3IobGV0IGVhY2h0YXNrIG9mIHdlZWtUYXNrcykge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlUYXNrc09uU2NyZWVuKGVhY2h0YXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgeyBhZGROZXdQcm9qZWN0IH0gZnJvbSBcIi4vYWRkcmVtb3ZlUHJvamVjdHNcIjtcbmltcG9ydCB7IHRhc2tzIH0gZnJvbSBcIi4vaW5kZXhcIjtcbmltcG9ydCB7IGRpc3BsYXlUYXNrc09uU2NyZWVuIH0gZnJvbSBcIi4vdXBkYXRpbmdUYXNrc1wiO1xuXG5jb25zdCBoZWFkaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJpZ2h0cGFuZWxoZWFkaW5nJyk7XG5cbmNvbnN0IHRhc2tjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza3MnKTtcblxuY29uc3QgYWRkVGFza0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGR0YXNrY29udGFpbmVyJyk7XG5cbmxldCBpbXBvcnRhbnRUYXNrcyA9IFtdO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzaG93SW1wb3J0YW50UGFnZSh0YXNrcykge1xuICAgIGhlYWRpbmcuaW5uZXJIVE1MID0gXCJJbXBvcnRhbnQgVGFza3NcIjtcbiAgICB0YXNrY29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gICAgaWYoIXRhc2tzLmxlbmd0aCkge1xuICAgICAgICB0YXNrY29udGFpbmVyLmlubmVySFRNTCA9IFwiTm8gVGFzayBoZXJlLCBhZGQgYSBwcm9qZWN0IGFuZCBhZGQgdGFza3MgdG8gZ2V0IHN0YXJ0ZWRcIlxuICAgICAgICBjb25zdCBhZGRwcm9qZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGFkZHByb2plY3QuaW5uZXJIVE1MID0gXCIrIEFkZCBQcm9qZWN0XCI7XG4gICAgICAgIGFkZHByb2plY3QuY2xhc3NMaXN0LmFkZCgnYWRkcHJvamVjdGZyZXNoJyk7XG4gICAgICAgIHRhc2tjb250YWluZXIuYXBwZW5kQ2hpbGQoYWRkcHJvamVjdCk7XG5cbiAgICAgICAgYWRkcHJvamVjdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZE5ld1Byb2plY3QpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYWRkVGFza0NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICBcbiAgICAgICAgdGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICBpbXBvcnRhbnRUYXNrcyA9IFtdO1xuICAgICAgICBcbiAgICAgICAgZm9yKGxldCB0YXNrIG9mIHRhc2tzKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrZGF0ZSA9IG5ldyBEYXRlKHRhc2suZGF0ZSk7XG4gICAgICAgICAgICBpZih0YXNrLmltcG9ydGFudCA9PSAneWVzJykge1xuICAgICAgICAgICAgICAgIGltcG9ydGFudFRhc2tzLnB1c2godGFzayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZighaW1wb3J0YW50VGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgICB0YXNrY29udGFpbmVyLmlubmVySFRNTCA9IFwiTm8gdGFza3MgbWFya2VkIGFzIGltcG9ydGFudFwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICAgICAgZm9yKGxldCBlYWNodGFzayBvZiBpbXBvcnRhbnRUYXNrcykge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlUYXNrc09uU2NyZWVuKGVhY2h0YXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxufSIsImltcG9ydCB7IGFkZE5ld1Byb2plY3QgfSBmcm9tIFwiLi9hZGRyZW1vdmVQcm9qZWN0c1wiO1xuaW1wb3J0IHsgdGFza3MgfSBmcm9tIFwiLi9pbmRleFwiO1xuaW1wb3J0IHsgYWRkVGFzayB9IGZyb20gXCIuL3Byb2plY3RQYWdlXCI7XG5pbXBvcnQgeyBkaXNwbGF5VGFza3NPblNjcmVlbiB9IGZyb20gXCIuL3VwZGF0aW5nVGFza3NcIjtcblxuXG5jb25zdCBoZWFkaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJpZ2h0cGFuZWxoZWFkaW5nJyk7XG5cbmNvbnN0IHRhc2tjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza3MnKTtcblxuY29uc3QgYWRkVGFza0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGR0YXNrY29udGFpbmVyJyk7XG5cbmxldCBjb21wbGV0ZWRUYXNrcyA9IFtdO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzaG93Q29tcGxldGVkUGFnZSh0YXNrcykge1xuICAgIGhlYWRpbmcuaW5uZXJIVE1MID0gXCJDb21wbGV0ZWQgVGFza3NcIjtcbiAgICB0YXNrY29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG4gICAgaWYoIXRhc2tzLmxlbmd0aCkge1xuICAgICAgICB0YXNrY29udGFpbmVyLmlubmVySFRNTCA9IFwiTm8gdGFza3MgY29tcGxldGVkXCI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBhZGRUYXNrQ29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICAgICAgY29tcGxldGVkVGFza3MgPSBbXTtcbiAgICAgICAgdGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgICAgIGZvcihsZXQgdGFzayBvZiB0YXNrcykge1xuICAgICAgICAgICAgaWYodGFzay5jb21wbGV0ZWQgPT0gJ3llcycpIHtcbiAgICAgICAgICAgICAgICBjb21wbGV0ZWRUYXNrcy5wdXNoKHRhc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYoIWNvbXBsZXRlZFRhc2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIk5vIHRhc2tzIGNvbXBsZXRlZFwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICAgICAgZm9yKGxldCBlYWNodGFzayBvZiBjb21wbGV0ZWRUYXNrcykge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlUYXNrc09uU2NyZWVuKGVhY2h0YXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iLCJpbXBvcnQgc2hvd1RvZGF5UGFnZSBmcm9tIFwiLi90b2RheVwiO1xuaW1wb3J0IHsgcmVtb3ZlU2VsZWN0ZWRDbGFzcywgYWRkTmV3UHJvamVjdH0gZnJvbSBcIi4vYWRkcmVtb3ZlUHJvamVjdHNcIjtcbmltcG9ydCBzaG93V2Vla1BhZ2UgZnJvbSBcIi4vdGhpc3dlZWtcIjtcbmltcG9ydCBzaG93SW1wb3J0YW50UGFnZSBmcm9tIFwiLi9pbXBvcnRhbnRcIjtcbmltcG9ydCBzaG93Q29tcGxldGVkUGFnZSBmcm9tIFwiLi9jb21wbGV0ZWRcIjtcblxuY29uc3QgdG9kYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9kYXknKTtcbmNvbnN0IHRoaXN3ZWVrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RoaXN3ZWVrJyk7XG5jb25zdCBpbXBvcnRhbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW1wb3J0YW50bWVudScpO1xuY29uc3QgY29tcGxldGVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbXBsZXRlZCcpO1xuY29uc3QgYWRkcHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGRwcm9qZWN0Jyk7XG5cblxuXG5jb25zdCBjb2xvcnMgPSBbJyNmZmFlYWUnLCAnI2ZmZWU5MycsICcjZmZjMDlmJywgJyNhMzlmZTEnLCAnI2ZjZjVjNycsICcjYTBjZWQ5JywgJyNhZGY3YjYnXTtcbmxldCB0YXNrcyA9IFtdO1xuXG5zaG93VG9kYXlQYWdlKHRhc2tzKTtcblxudG9kYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgcmVtb3ZlU2VsZWN0ZWRDbGFzcygpO1xuICAgIHRvZGF5LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgc2hvd1RvZGF5UGFnZSh0YXNrcyk7XG59KTtcblxudGhpc3dlZWsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgcmVtb3ZlU2VsZWN0ZWRDbGFzcygpO1xuICAgIHRoaXN3ZWVrLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgc2hvd1dlZWtQYWdlKHRhc2tzKTtcbn0pO1xuXG5cbmltcG9ydGFudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICByZW1vdmVTZWxlY3RlZENsYXNzKCk7XG4gICAgaW1wb3J0YW50LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgc2hvd0ltcG9ydGFudFBhZ2UodGFza3MpO1xufSlcblxuY29tcGxldGVkLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHJlbW92ZVNlbGVjdGVkQ2xhc3MoKTtcbiAgICBjb21wbGV0ZWQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICBzaG93Q29tcGxldGVkUGFnZSh0YXNrcyk7XG59KTtcblxuYWRkcHJvamVjdC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFkZE5ld1Byb2plY3QpO1xuXG5leHBvcnQge2NvbG9ycyx0YXNrc307Il0sIm5hbWVzIjpbIl9fd2VicGFja19yZXF1aXJlX18iLCJleHBvcnRzIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJvYmoiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwic2NyaXB0VXJsIiwiaW1wb3J0U2NyaXB0cyIsImxvY2F0aW9uIiwiZG9jdW1lbnQiLCJjdXJyZW50U2NyaXB0Iiwic3JjIiwic2NyaXB0cyIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwibGVuZ3RoIiwiaSIsIkVycm9yIiwicmVwbGFjZSIsInAiLCJ0YXNrY29udGFpbmVyIiwicXVlcnlTZWxlY3RvciIsImhlYWRpbmciLCJkaXNwbGF5VGFza3NPblNjcmVlbiIsInRhc2siLCJ0YXNrcm93IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImNoZWNrYm94IiwidHlwZSIsImlkIiwibGFiZWwiLCJzZXRBdHRyaWJ1dGUiLCJpbm5lckhUTUwiLCJuYW1lIiwiaW1wb3J0YW50IiwiZGF0ZSIsImFwcGVuZENoaWxkIiwiYWRkRXZlbnRMaXN0ZW5lciIsImNvbXBsZXRlZCIsInN0eWxlIiwidGV4dERlY29yYXRpb24iLCJiYWNrZ3JvdW5kQ29sb3IiLCJjaGVja2VkIiwidXBkYXRlUGFuZWwiLCJxdWVyeVNlbGVjdG9yQWxsIiwiY3VycmVudGx5U2VsZWN0ZWRQcm9qZWN0IiwidGFza3NJbkN1cnJlbnRseVNlbGVjdGVkUHJvamVjdCIsInRhc2tzIiwicHJvamVjdG5hbWUiLCJwdXNoIiwiZWFjaHRhc2siLCJkaXNwbGF5U3RhcnRQcm9qZWN0UGFnZSIsImNyZWF0ZVRhc2tPYmplY3QiLCJhZGRUYXNrQ29udGFpbmVyIiwiYWRkVGFzayIsInBvcHVwIiwicHJlc2VudCIsImRpc3BsYXlBZGRUYXNrIiwicmVtb3ZlIiwiZm9ybWJveCIsImJ1dHRvbnMiLCJjYW5jZWwiLCJ0aXRsZSIsImdldEVsZW1lbnRCeUlkIiwibmV3dGFzayIsInZhbHVlIiwiYWRkVGFza09iamVjdCIsImNsaWNrIiwic3RvcFByb3BhZ2F0aW9uIiwiYWRkVGFza1BvcHVwIiwib3B0aW9ucyIsInJlbW92ZVNlbGVjdGVkQ2xhc3MiLCJmb3JFYWNoIiwib3B0IiwicmVtb3ZlQWN0aXZlQ2xhc3MiLCJwcm9qZWN0Q29udGFpbmVyIiwibm90UHJlc2VudCIsImFkZE5ld1Byb2plY3QiLCJpbnB1dGJveCIsIm1hcmdpbiIsInByb2plY3RpY29uIiwiY29sb3JzIiwib3B0aW9uIiwiZm9jdXMiLCJkb25lIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidG9kYXlUYXNrcyIsInNob3dUb2RheVBhZ2UiLCJ0b2RheSIsIkRhdGUiLCJ0YXNrZGF0ZSIsInRvRGF0ZVN0cmluZyIsImFkZHByb2plY3QiLCJ3ZWVrVGFza3MiLCJpbXBvcnRhbnRUYXNrcyIsImNvbXBsZXRlZFRhc2tzIiwidGhpc3dlZWsiLCJkYXkiLCJnZXREYXkiLCJzdGFydCIsImdldFRpbWUiLCJlbmQiLCJzaG93V2Vla1BhZ2UiLCJzaG93SW1wb3J0YW50UGFnZSIsInNob3dDb21wbGV0ZWRQYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==