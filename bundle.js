(()=>{"use strict";var e={d:(t,n)=>{for(var d in n)e.o(n,d)&&!e.o(t,d)&&Object.defineProperty(t,d,{enumerable:!0,get:n[d]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{O:()=>B,w:()=>D});let t=1;const n=document.querySelector(".tasks"),d=document.querySelector(".rightpanelheading");function c(e){const d=document.createElement("div");d.classList.add("task");const c=document.createElement("input");c.type="checkbox",c.id=`${t}`,c.classList.add("checkbox");const o=document.createElement("label");o.setAttribute("for",`${t}`),o.innerHTML=`${e.name}`;const i=document.createElement("div");i.innerHTML=`${e.priority}`,i.classList.add("priority");const r=document.createElement("div");r.innerHTML=`${e.date}`||"--",r.classList.add("date"),t++,d.appendChild(c),d.appendChild(o),d.appendChild(i),d.appendChild(r),n.appendChild(d)}function o(){document.querySelectorAll(".options");const e=document.querySelector(".active");let t=[];for(let n of D)e.innerHTML==n.projectname&&t.push(n);if(t.length){d.innerHTML=`${e.innerHTML}`,n.innerHTML="";for(let e of t)c(e)}else n.innerHTML="",L(e.innerHTML)}function i(e,t,n,d,c){return{name:e,projectname:t,priority:n,date:d,completed:c}}const r=document.querySelector(".rightpanel"),a=document.querySelector(".rightpanelheading"),s=document.querySelector(".tasks");s.innerHTML="";const l=document.createElement("div");l.classList.add("addtask"),l.innerHTML="+";let u=!0;const m=document.querySelector(".popupcontainer");let p=!0;function L(e){a.innerHTML=`${e}`,s.innerHTML="",u&&(u=!1,r.appendChild(l)),l.addEventListener("click",(()=>{!function(){p=!0,m.classList.remove("hidden");const e=document.querySelector(".formbox"),t=document.querySelector(".buttons");t.innerHTML="";const n=document.createElement("button"),d=document.createElement("button");n.innerHTML="Add",d.innerHTML="Cancel",d.setAttribute("type","button"),n.setAttribute("type","button"),t.appendChild(n),t.appendChild(d),n.addEventListener("click",(()=>{!function(){const e=document.querySelector(".active"),t=document.getElementById("title"),n=document.getElementById("priority"),d=document.getElementById("date"),c=new i(t.value,e.innerHTML,n.value,d.value,"no");D.push(c),t.value="",n.value="low",d.value=""}(),m.classList.add("hidden"),p=!1,o()})),d.addEventListener("click",(e=>{m.classList.add("hidden")})),document.addEventListener("keydown",(e=>{p&&"Enter"===e.key&&n.click()})),e.addEventListener("click",(e=>{e.stopPropagation()})),m.addEventListener("click",(e=>{e.stopPropagation(),m.classList.add("hidden")}))}()}))}let y=0,f=document.querySelectorAll(".option");function h(){f.forEach((e=>{e.classList.remove("selected")}))}function v(){document.querySelector(".active").classList.remove("active")}const T=document.querySelector(".projectcontainer");let E=!0,k=!0;function g(){if(E){const e=document.createElement("input");e.setAttribute("type","text"),e.setAttribute("id","inputbox"),e.style.margin="8px 12px";const t=document.createElement("projecticon");t.classList.add("projecticon"),t.style.backgroundColor=`${B[y]}`,y++,6==y&&(y=0);const n=document.createElement("div"),d=document.createElement("div");d.classList.add("option"),d.classList.add("projectoption"),T.appendChild(e),e.focus(),E=!1;let c=!1;document.addEventListener("keydown",(o=>{"Enter"!=o.key||""===e.value||c||(n.innerHTML=`${e.value}`,T.removeChild(e),E=!0,d.appendChild(t),d.appendChild(n),T.appendChild(d),f=document.querySelectorAll(".option"),h(),k||v(),d.classList.add("selected"),n.classList.add("active"),k=!1,L(e.value),c=!0,document.removeEventListener("keydown",(()=>{})))})),d.addEventListener("click",(()=>{h(),v(),d.classList.add("selected"),n.classList.add("active"),D.length?o():L(document.querySelector(".active").innerHTML)}))}else T.removeChild(document.getElementById("inputbox")),E=!0}const H=document.querySelector(".rightpanelheading"),M=document.querySelector(".tasks");let S=[];function b(e){if(H.innerHTML="Your Today's Tasks",M.innerHTML="",e.length){M.innerHTML="";const t=new Date;S=[];for(let n of e){const e=new Date(n.date);t.toDateString()==e.toDateString()&&S.push(n)}if(S.length){M.innerHTML="";for(let e of S)c(e)}else M.innerHTML="No tasks scheduled for today"}else{M.innerHTML="No Task here, add a project and add tasks to get started";const e=document.createElement("div");e.innerHTML="+ Add Project",e.classList.add("addprojectfresh"),M.appendChild(e),e.addEventListener("click",g)}}const q=document.querySelector(".rightpanelheading"),C=document.querySelector(".tasks");let j=[];const w=document.getElementById("today"),A=document.getElementById("thisweek"),$=document.getElementById("stickywall"),x=document.querySelector(".addproject"),B=["#ffaeae","#ffee93","#ffc09f","#a39fe1","#fcf5c7","#a0ced9","#adf7b6"];let D=[];b(D),w.addEventListener("click",(()=>{h(),w.classList.add("selected"),b(D)})),A.addEventListener("click",(()=>{h(),A.classList.add("selected"),function(e){if(q.innerHTML="Tasks for this week",C.innerHTML="",e.length){j=[],C.innerHTML="";const t=new Date,n=t.getDay(),d=t.getTime()-864e5*n,o=t.getTime()+864e5*(7-n);for(let t of e){const e=new Date(t.date);e.getTime()>d&&e.getTime()<o&&j.push(t)}if(j.length){C.innerHTML="";for(let e of j)c(e)}else C.innerHTML="No tasks scheduled for today"}else{C.innerHTML="No Task here, add a project and add tasks to get started";const e=document.createElement("div");e.innerHTML="+ Add Project",e.classList.add("addprojectfresh"),C.appendChild(e),e.addEventListener("click",g)}}(D)})),$.addEventListener("click",(()=>{h(),$.classList.add("selected")})),x.addEventListener("click",g)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVNxQixFQUN6QyxDQTJCSixDQ3pCSTJCLENBQWE3RCxFQUFNLElBR3ZCdUQsRUFBVzFDLGlCQUFpQixTQUFTLEtBQ2pDZSxJQUNBMkIsRUFBV3ZFLFVBQVVDLElBQUksV0FBVyxJQUl4Q21FLEVBQVd2QyxpQkFBaUIsUUFBU3FCLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vdG9kby1saXN0L3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvdXBkYXRpbmdUYXNrcy5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvdGFza01hbmlwdWxhdGlvbi5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvcHJvamVjdFBhZ2UuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2FkZHJlbW92ZVByb2plY3RzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy90b2RheS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvdGhpc3dlZWsuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiaW1wb3J0IHsgdGFza3MgfSBmcm9tIFwiLi9pbmRleFwiO1xuaW1wb3J0IGRpc3BsYXlTdGFydFByb2plY3RQYWdlIGZyb20gXCIuL3Byb2plY3RQYWdlXCI7XG5cbmxldCBpPTE7XG5cbmNvbnN0IHRhc2tjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza3MnKTtcbmNvbnN0IGhlYWRpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmlnaHRwYW5lbGhlYWRpbmcnKTtcblxuZnVuY3Rpb24gZGlzcGxheVRhc2tzT25TY3JlZW4odGFzaykge1xuICAgIGNvbnN0IHRhc2tyb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICB0YXNrcm93LmNsYXNzTGlzdC5hZGQoJ3Rhc2snKTtcblxuICAgIGNvbnN0IGNoZWNrYm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICBjaGVja2JveC50eXBlID0gXCJjaGVja2JveFwiO1xuICAgIGNoZWNrYm94LmlkID0gYCR7aX1gO1xuICAgIGNoZWNrYm94LmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94Jyk7XG4gICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJyxgJHtpfWApO1xuICAgIGxhYmVsLmlubmVySFRNTCA9IGAke3Rhc2submFtZX1gO1xuICAgIGNvbnN0IHByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcHJpb3JpdHkuaW5uZXJIVE1MID0gYCR7dGFzay5wcmlvcml0eX1gO1xuICAgIHByaW9yaXR5LmNsYXNzTGlzdC5hZGQoJ3ByaW9yaXR5Jyk7XG4gICAgY29uc3QgZGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRhdGUuaW5uZXJIVE1MID0gYCR7dGFzay5kYXRlfWAgfHwgJy0tJztcbiAgICBkYXRlLmNsYXNzTGlzdC5hZGQoJ2RhdGUnKTtcbiAgICBpKys7XG5cbiAgICB0YXNrcm93LmFwcGVuZENoaWxkKGNoZWNrYm94KTtcbiAgICB0YXNrcm93LmFwcGVuZENoaWxkKGxhYmVsKTtcbiAgICB0YXNrcm93LmFwcGVuZENoaWxkKHByaW9yaXR5KTtcbiAgICB0YXNrcm93LmFwcGVuZENoaWxkKGRhdGUpO1xuXG4gICAgdGFza2NvbnRhaW5lci5hcHBlbmRDaGlsZCh0YXNrcm93KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gdXBkYXRlUGFuZWwoKSB7XG4gICAgY29uc3QgbWVudW9wdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcub3B0aW9ucycpO1xuXG4gICAgY29uc3QgY3VycmVudGx5U2VsZWN0ZWRQcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjdGl2ZScpOyAgLy9leHRyYWN0cyB0aGUgbmFtZSBvZiB0aGUgY3VycmVudGx5IHNlbGVjdGVkIHByb2plY3RcblxuICAgIGxldCB0YXNrc0luQ3VycmVudGx5U2VsZWN0ZWRQcm9qZWN0ID0gW107XG5cbiAgICBmb3IobGV0IHRhc2sgb2YgdGFza3MpIHtcbiAgICAgICAgaWYoY3VycmVudGx5U2VsZWN0ZWRQcm9qZWN0LmlubmVySFRNTCA9PSB0YXNrLnByb2plY3RuYW1lKSB7XG4gICAgICAgICAgICB0YXNrc0luQ3VycmVudGx5U2VsZWN0ZWRQcm9qZWN0LnB1c2godGFzayk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZighdGFza3NJbkN1cnJlbnRseVNlbGVjdGVkUHJvamVjdC5sZW5ndGgpIHtcbiAgICAgICAgdGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICBkaXNwbGF5U3RhcnRQcm9qZWN0UGFnZShjdXJyZW50bHlTZWxlY3RlZFByb2plY3QuaW5uZXJIVE1MKTtcbiAgICB9XG4gICAgICAgIFxuICAgIGVsc2Uge1xuICAgICAgICBoZWFkaW5nLmlubmVySFRNTCA9IGAke2N1cnJlbnRseVNlbGVjdGVkUHJvamVjdC5pbm5lckhUTUx9YDtcbiAgICAgICAgdGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICBmb3IobGV0IGVhY2h0YXNrIG9mIHRhc2tzSW5DdXJyZW50bHlTZWxlY3RlZFByb2plY3QpIHtcbiAgICAgICAgICAgIGRpc3BsYXlUYXNrc09uU2NyZWVuKGVhY2h0YXNrKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IHtkaXNwbGF5VGFza3NPblNjcmVlbn07IiwiaW1wb3J0IHsgdGFza3MgfSBmcm9tIFwiLi9pbmRleFwiO1xuaW1wb3J0IHVwZGF0ZVBhbmVsIGZyb20gXCIuL3VwZGF0aW5nVGFza3NcIjtcblxuXG5mdW5jdGlvbiBjcmVhdGVUYXNrT2JqZWN0KG5hbWUsIHByb2plY3RuYW1lLCBwcmlvcml0eSwgZGF0ZSwgY29tcGxldGVkKSB7XG4gICAgcmV0dXJuIHsgbmFtZSwgcHJvamVjdG5hbWUsIHByaW9yaXR5LCBkYXRlLCBjb21wbGV0ZWQgfTtcbn1cblxuZnVuY3Rpb24gYWRkVGFza09iamVjdCgpIHtcbiAgICBjb25zdCBjdXJyZW50bHlTZWxlY3RlZFByb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJyk7XG5cbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpO1xuICAgIGNvbnN0IHByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByaW9yaXR5Jyk7XG4gICAgY29uc3QgZGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlJyk7XG5cbiAgICBjb25zdCBuZXd0YXNrID0gbmV3IGNyZWF0ZVRhc2tPYmplY3QodGl0bGUudmFsdWUsY3VycmVudGx5U2VsZWN0ZWRQcm9qZWN0LmlubmVySFRNTCxwcmlvcml0eS52YWx1ZSxkYXRlLnZhbHVlLCdubycpO1xuXG4gICAgdGFza3MucHVzaChuZXd0YXNrKTtcblxuICAgIHRpdGxlLnZhbHVlPVwiXCI7XG4gICAgcHJpb3JpdHkudmFsdWU9XCJsb3dcIjtcbiAgICBkYXRlLnZhbHVlPVwiXCI7XG59XG5cbmV4cG9ydCB7IGFkZFRhc2tPYmplY3QgfTsiLCJpbXBvcnQgeyB0YXNrcyB9IGZyb20gXCIuL2luZGV4XCI7XG5pbXBvcnQgeyBhZGRUYXNrT2JqZWN0IH0gZnJvbSBcIi4vdGFza01hbmlwdWxhdGlvblwiO1xuaW1wb3J0IHVwZGF0ZVBhbmVsIGZyb20gXCIuL3VwZGF0aW5nVGFza3NcIjtcblxuY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJpZ2h0cGFuZWwnKTtcbmNvbnN0IGhlYWRpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmlnaHRwYW5lbGhlYWRpbmcnKTtcblxuY29uc3QgdGFza2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrcycpO1xudGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuXG5jb25zdCBhZGRUYXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5hZGRUYXNrLmNsYXNzTGlzdC5hZGQoJ2FkZHRhc2snKTtcbmFkZFRhc2suaW5uZXJIVE1MID0gXCIrXCI7XG5sZXQgZmlyc3QgPSB0cnVlO1xuY29uc3QgcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucG9wdXBjb250YWluZXInKTtcblxubGV0IHByZXNlbnQgPSB0cnVlO1xuXG5cbmZ1bmN0aW9uIGFkZFRhc2tQb3B1cCgpIHtcbiAgICBwcmVzZW50ID0gdHJ1ZTtcblxuICAgIHBvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuXG4gICAgY29uc3QgZm9ybWJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtYm94Jyk7XG5cbiAgICBjb25zdCBidXR0b25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1dHRvbnMnKTtcblxuICAgIGJ1dHRvbnMuaW5uZXJIVE1MID0gXCJcIjtcblxuICAgIGNvbnN0IGFkZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGNvbnN0IGNhbmNlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgIGFkZC5pbm5lckhUTUwgPSBcIkFkZFwiO1xuICAgIGNhbmNlbC5pbm5lckhUTUwgPSBcIkNhbmNlbFwiO1xuXG4gICAgY2FuY2VsLnNldEF0dHJpYnV0ZSgndHlwZScsICdidXR0b24nKTtcbiAgICBhZGQuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuXG4gICAgYnV0dG9ucy5hcHBlbmRDaGlsZChhZGQpO1xuICAgIGJ1dHRvbnMuYXBwZW5kQ2hpbGQoY2FuY2VsKTtcblxuICAgIC8vc2VuZHMgZm9yIG9iamVjdCBjcmVhdGlvbiBhbmQgYWRkaXRpb25cbiAgICBhZGQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIGFkZFRhc2tPYmplY3QoKTtcbiAgICAgICAgcG9wdXAuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIHByZXNlbnQgPSBmYWxzZTtcbiAgICAgICAgdXBkYXRlUGFuZWwoKTtcbiAgICB9KTtcblxuICAgIC8vY2FuY2VsIGJ1dHRvbiByZW1vdmVzIHRoZSBvdmVybGF5XG4gICAgY2FuY2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgICAgcG9wdXAuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfSk7XG5cbiAgICAvL2xpbmtzIGVudGVyICBrZXkgdG8gYWRkIGJ1dHRvblxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgICAgICBpZiAocHJlc2VudCkge1xuICAgICAgICAgICAgaWYgKGUua2V5ID09PSBcIkVudGVyXCIpIHtcbiAgICAgICAgICAgICAgICBhZGQuY2xpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuXG4gICAgLy9wcmV2ZW50cyBidWJibGluZ1xuICAgIGZvcm1ib3guYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH0pO1xuICAgICAvL292ZXJsYXkgY2xvc2VzIHdoZW4gY2xpY2tlZCBvbiBiYWNrZ3JvdW5kXG4gICAgcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZGlzcGxheVN0YXJ0UHJvamVjdFBhZ2UobmFtZSkge1xuICAgIGhlYWRpbmcuaW5uZXJIVE1MID0gYCR7bmFtZX1gO1xuICAgIHRhc2tjb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcblxuICAgIGlmIChmaXJzdCkge1xuICAgICAgICBmaXJzdCA9IGZhbHNlO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYWRkVGFzayk7XG4gICAgfVxuXG4gICAgYWRkVGFzay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgYWRkVGFza1BvcHVwKCk7XG4gICAgfSk7XG5cbn0iLCJpbXBvcnQgeyBjb2xvcnMsIHRhc2tzIH0gZnJvbSBcIi4vaW5kZXhcIjtcbmltcG9ydCBkaXNwbGF5U3RhcnRQcm9qZWN0UGFnZSBmcm9tIFwiLi9wcm9qZWN0UGFnZVwiO1xuaW1wb3J0IHVwZGF0ZVBhbmVsIGZyb20gXCIuL3VwZGF0aW5nVGFza3NcIjtcblxubGV0IGk9MDtcblxubGV0IG9wdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcub3B0aW9uJyk7XG5cbmZ1bmN0aW9uIHJlbW92ZVNlbGVjdGVkQ2xhc3MoKSB7XG4gICAgb3B0aW9ucy5mb3JFYWNoKG9wdCA9PiB7XG4gICAgICAgIG9wdC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiByZW1vdmVBY3RpdmVDbGFzcygpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG59XG5cbmNvbnN0IHByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdGNvbnRhaW5lcicpO1xuXG5sZXQgbm90UHJlc2VudCA9IHRydWU7XG5sZXQgZmlyc3Q9dHJ1ZTtcblxuZnVuY3Rpb24gYWRkTmV3UHJvamVjdCgpIHtcbiAgICBpZiAobm90UHJlc2VudCkge1xuICAgICAgICBjb25zdCBpbnB1dGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcbiAgICAgICAgaW5wdXRib3guc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcbiAgICAgICAgaW5wdXRib3guc2V0QXR0cmlidXRlKCdpZCcsICdpbnB1dGJveCcpXG4gICAgICAgIGlucHV0Ym94LnN0eWxlLm1hcmdpbiA9IFwiOHB4IDEycHhcIjtcblxuICAgICAgICBjb25zdCBwcm9qZWN0aWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3Byb2plY3RpY29uJyk7XG4gICAgICAgIHByb2plY3RpY29uLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RpY29uJyk7XG4gICAgICAgIHByb2plY3RpY29uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGAke2NvbG9yc1tpXX1gO1xuICAgICAgICBpKys7XG4gICAgICAgIGlmKGk9PTYpXG4gICAgICAgICAgICBpPTA7XG5cbiAgICAgICAgY29uc3QgcHJvamVjdG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgb3B0aW9uLmNsYXNzTGlzdC5hZGQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24uY2xhc3NMaXN0LmFkZCgncHJvamVjdG9wdGlvbicpO1xuXG5cbiAgICAgICAgcHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChpbnB1dGJveCk7XG5cbiAgICAgICAgaW5wdXRib3guZm9jdXMoKTtcblxuICAgICAgICBub3RQcmVzZW50ID0gZmFsc2U7XG5cbiAgICAgICAgbGV0IGRvbmUgPSBmYWxzZTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChlLmtleSA9PSBcIkVudGVyXCIgJiYgaW5wdXRib3gudmFsdWUgIT09IFwiXCIgJiYgIWRvbmUpIHtcbiAgICAgICAgICAgICAgICBwcm9qZWN0bmFtZS5pbm5lckhUTUwgPSBgJHtpbnB1dGJveC52YWx1ZX1gO1xuICAgICAgICAgICAgICAgIHByb2plY3RDb250YWluZXIucmVtb3ZlQ2hpbGQoaW5wdXRib3gpO1xuICAgICAgICAgICAgICAgIG5vdFByZXNlbnQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgb3B0aW9uLmFwcGVuZENoaWxkKHByb2plY3RpY29uKTtcbiAgICAgICAgICAgICAgICBvcHRpb24uYXBwZW5kQ2hpbGQocHJvamVjdG5hbWUpO1xuXG4gICAgICAgICAgICAgICAgcHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICAgICAgICAgIFxuXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vcHRpb24nKTtcblxuICAgICAgICAgICAgICAgIHJlbW92ZVNlbGVjdGVkQ2xhc3MoKTtcbiAgICAgICAgICAgICAgICBpZighZmlyc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQWN0aXZlQ2xhc3MoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3B0aW9uLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgcHJvamVjdG5hbWUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZmlyc3Q9ZmFsc2U7XG4gICAgICAgICAgICAgICAgZGlzcGxheVN0YXJ0UHJvamVjdFBhZ2UoaW5wdXRib3gudmFsdWUpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGRvbmUgPXRydWU7XG5cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKCkgPT4ge30pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBvcHRpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICByZW1vdmVTZWxlY3RlZENsYXNzKCk7XG4gICAgICAgICAgICByZW1vdmVBY3RpdmVDbGFzcygpO1xuICAgICAgICAgICAgb3B0aW9uLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICBwcm9qZWN0bmFtZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYoIXRhc2tzLmxlbmd0aClcbiAgICAgICAgICAgICAgICBkaXNwbGF5U3RhcnRQcm9qZWN0UGFnZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJykuaW5uZXJIVE1MKTtcbiAgICAgICAgICAgIGVsc2UgXG4gICAgICAgICAgICAgICAgdXBkYXRlUGFuZWwoKTtcbiAgICAgICAgfSlcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHByb2plY3RDb250YWluZXIucmVtb3ZlQ2hpbGQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0Ym94JykpO1xuICAgICAgICBub3RQcmVzZW50PXRydWU7XG4gICAgfVxufVxuXG5leHBvcnQge3JlbW92ZVNlbGVjdGVkQ2xhc3MsYWRkTmV3UHJvamVjdH07IiwiaW1wb3J0IHsgYWRkTmV3UHJvamVjdCB9IGZyb20gXCIuL2FkZHJlbW92ZVByb2plY3RzXCI7XG5pbXBvcnQgeyB0YXNrcyB9IGZyb20gXCIuL2luZGV4XCI7XG5pbXBvcnQgeyBkaXNwbGF5VGFza3NPblNjcmVlbiB9IGZyb20gXCIuL3VwZGF0aW5nVGFza3NcIjtcblxuY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yaWdodHBhbmVsaGVhZGluZycpO1xuXG5jb25zdCB0YXNrY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tzJyk7XG5cbmxldCB0b2RheVRhc2tzID0gW107XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNob3dUb2RheVBhZ2UodGFza3MpIHtcbiAgICBoZWFkaW5nLmlubmVySFRNTCA9IFwiWW91ciBUb2RheSdzIFRhc2tzXCI7XG4gICAgdGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgIGlmKCF0YXNrcy5sZW5ndGgpIHtcbiAgICAgICAgdGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIk5vIFRhc2sgaGVyZSwgYWRkIGEgcHJvamVjdCBhbmQgYWRkIHRhc2tzIHRvIGdldCBzdGFydGVkXCJcbiAgICAgICAgY29uc3QgYWRkcHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBhZGRwcm9qZWN0LmlubmVySFRNTCA9IFwiKyBBZGQgUHJvamVjdFwiO1xuICAgICAgICBhZGRwcm9qZWN0LmNsYXNzTGlzdC5hZGQoJ2FkZHByb2plY3RmcmVzaCcpO1xuICAgICAgICB0YXNrY29udGFpbmVyLmFwcGVuZENoaWxkKGFkZHByb2plY3QpO1xuXG4gICAgICAgIGFkZHByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGROZXdQcm9qZWN0KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRhc2tjb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB0b2RheVRhc2tzID0gW107XG4gICAgICAgIFxuICAgICAgICBmb3IobGV0IHRhc2sgb2YgdGFza3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHRhc2tkYXRlID0gbmV3IERhdGUodGFzay5kYXRlKTtcbiAgICAgICAgICAgIGlmKHRvZGF5LnRvRGF0ZVN0cmluZygpID09IHRhc2tkYXRlLnRvRGF0ZVN0cmluZygpKSB7XG4gICAgICAgICAgICAgICAgdG9kYXlUYXNrcy5wdXNoKHRhc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYoIXRvZGF5VGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgICB0YXNrY29udGFpbmVyLmlubmVySFRNTCA9IFwiTm8gdGFza3Mgc2NoZWR1bGVkIGZvciB0b2RheVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICAgICAgZm9yKGxldCBlYWNodGFzayBvZiB0b2RheVRhc2tzKSB7XG4gICAgICAgICAgICAgICAgZGlzcGxheVRhc2tzT25TY3JlZW4oZWFjaHRhc2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG59IiwiaW1wb3J0IHsgYWRkTmV3UHJvamVjdCB9IGZyb20gXCIuL2FkZHJlbW92ZVByb2plY3RzXCI7XG5pbXBvcnQgeyB0YXNrcyB9IGZyb20gXCIuL2luZGV4XCI7XG5pbXBvcnQgeyBkaXNwbGF5VGFza3NPblNjcmVlbiB9IGZyb20gXCIuL3VwZGF0aW5nVGFza3NcIjtcblxuXG5jb25zdCBoZWFkaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJpZ2h0cGFuZWxoZWFkaW5nJyk7XG5cbmNvbnN0IHRhc2tjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFza3MnKTtcblxubGV0IHdlZWtUYXNrcyA9IFtdO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzaG93V2Vla1BhZ2UodGFza3MpIHtcbiAgICBoZWFkaW5nLmlubmVySFRNTCA9IFwiVGFza3MgZm9yIHRoaXMgd2Vla1wiO1xuICAgIHRhc2tjb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgICBpZighdGFza3MubGVuZ3RoKSB7XG4gICAgICAgIHRhc2tjb250YWluZXIuaW5uZXJIVE1MID0gXCJObyBUYXNrIGhlcmUsIGFkZCBhIHByb2plY3QgYW5kIGFkZCB0YXNrcyB0byBnZXQgc3RhcnRlZFwiXG4gICAgICAgIGNvbnN0IGFkZHByb2plY3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgYWRkcHJvamVjdC5pbm5lckhUTUwgPSBcIisgQWRkIFByb2plY3RcIjtcbiAgICAgICAgYWRkcHJvamVjdC5jbGFzc0xpc3QuYWRkKCdhZGRwcm9qZWN0ZnJlc2gnKTtcbiAgICAgICAgdGFza2NvbnRhaW5lci5hcHBlbmRDaGlsZChhZGRwcm9qZWN0KTtcblxuICAgICAgICBhZGRwcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkTmV3UHJvamVjdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB3ZWVrVGFza3MgPSBbXTtcbiAgICAgICAgdGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvbnN0IGRheSA9IHRvZGF5LmdldERheSgpO1xuICAgICAgICBcbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0b2RheS5nZXRUaW1lKCkgLSBkYXkqODY0MDAwMDA7XG4gICAgICAgIGNvbnN0IGVuZCA9IHRvZGF5LmdldFRpbWUoKSArICg3LWRheSkqODY0MDAwMDA7XG5cbiAgICAgICAgZm9yKGxldCB0YXNrIG9mIHRhc2tzKSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrZGF0ZSA9IG5ldyBEYXRlKHRhc2suZGF0ZSk7XG4gICAgICAgICAgICBpZih0YXNrZGF0ZS5nZXRUaW1lKCkgPiBzdGFydCAmJiB0YXNrZGF0ZS5nZXRUaW1lKCkgPCBlbmQpIHtcbiAgICAgICAgICAgICAgICB3ZWVrVGFza3MucHVzaCh0YXNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmKCF3ZWVrVGFza3MubGVuZ3RoKSB7XG4gICAgICAgICAgICB0YXNrY29udGFpbmVyLmlubmVySFRNTCA9IFwiTm8gdGFza3Mgc2NoZWR1bGVkIGZvciB0b2RheVwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICAgICAgICAgICAgZm9yKGxldCBlYWNodGFzayBvZiB3ZWVrVGFza3MpIHtcbiAgICAgICAgICAgICAgICBkaXNwbGF5VGFza3NPblNjcmVlbihlYWNodGFzayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHNob3dUb2RheVBhZ2UgZnJvbSBcIi4vdG9kYXlcIjtcbmltcG9ydCB7IHJlbW92ZVNlbGVjdGVkQ2xhc3MsIGFkZE5ld1Byb2plY3R9IGZyb20gXCIuL2FkZHJlbW92ZVByb2plY3RzXCI7XG5pbXBvcnQgc2hvd1dlZWtQYWdlIGZyb20gXCIuL3RoaXN3ZWVrXCI7XG5cbmNvbnN0IHRvZGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZGF5Jyk7XG5jb25zdCB0aGlzd2VlayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aGlzd2VlaycpO1xuY29uc3Qgc3RpY2t5d2FsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGlja3l3YWxsJyk7XG5jb25zdCBhZGRwcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZHByb2plY3QnKTtcblxuXG5jb25zdCBjb2xvcnMgPSBbJyNmZmFlYWUnLCAnI2ZmZWU5MycsICcjZmZjMDlmJywgJyNhMzlmZTEnLCAnI2ZjZjVjNycsICcjYTBjZWQ5JywgJyNhZGY3YjYnXTtcbmxldCB0YXNrcyA9IFtdO1xuXG5zaG93VG9kYXlQYWdlKHRhc2tzKTtcblxudG9kYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgcmVtb3ZlU2VsZWN0ZWRDbGFzcygpO1xuICAgIHRvZGF5LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgc2hvd1RvZGF5UGFnZSh0YXNrcyk7XG59KTtcblxudGhpc3dlZWsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgcmVtb3ZlU2VsZWN0ZWRDbGFzcygpO1xuICAgIHRoaXN3ZWVrLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgc2hvd1dlZWtQYWdlKHRhc2tzKTtcbn0pO1xuXG5zdGlja3l3YWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHJlbW92ZVNlbGVjdGVkQ2xhc3MoKTtcbiAgICBzdGlja3l3YWxsLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG59KTtcblxuXG5hZGRwcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkTmV3UHJvamVjdCk7XG5cbmV4cG9ydCB7Y29sb3JzLHRhc2tzfTsiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpIiwidGFza2NvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImhlYWRpbmciLCJkaXNwbGF5VGFza3NPblNjcmVlbiIsInRhc2siLCJ0YXNrcm93IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImNoZWNrYm94IiwidHlwZSIsImlkIiwibGFiZWwiLCJzZXRBdHRyaWJ1dGUiLCJpbm5lckhUTUwiLCJuYW1lIiwicHJpb3JpdHkiLCJkYXRlIiwiYXBwZW5kQ2hpbGQiLCJ1cGRhdGVQYW5lbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjdXJyZW50bHlTZWxlY3RlZFByb2plY3QiLCJ0YXNrc0luQ3VycmVudGx5U2VsZWN0ZWRQcm9qZWN0IiwidGFza3MiLCJwcm9qZWN0bmFtZSIsInB1c2giLCJsZW5ndGgiLCJlYWNodGFzayIsImRpc3BsYXlTdGFydFByb2plY3RQYWdlIiwiY3JlYXRlVGFza09iamVjdCIsImNvbXBsZXRlZCIsImNvbnRhaW5lciIsImFkZFRhc2siLCJmaXJzdCIsInBvcHVwIiwicHJlc2VudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJmb3JtYm94IiwiYnV0dG9ucyIsImNhbmNlbCIsInRpdGxlIiwiZ2V0RWxlbWVudEJ5SWQiLCJuZXd0YXNrIiwidmFsdWUiLCJhZGRUYXNrT2JqZWN0IiwiZSIsImNsaWNrIiwic3RvcFByb3BhZ2F0aW9uIiwiYWRkVGFza1BvcHVwIiwib3B0aW9ucyIsInJlbW92ZVNlbGVjdGVkQ2xhc3MiLCJmb3JFYWNoIiwib3B0IiwicmVtb3ZlQWN0aXZlQ2xhc3MiLCJwcm9qZWN0Q29udGFpbmVyIiwibm90UHJlc2VudCIsImFkZE5ld1Byb2plY3QiLCJpbnB1dGJveCIsInN0eWxlIiwibWFyZ2luIiwicHJvamVjdGljb24iLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvcnMiLCJvcHRpb24iLCJmb2N1cyIsImRvbmUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0b2RheVRhc2tzIiwic2hvd1RvZGF5UGFnZSIsInRvZGF5IiwiRGF0ZSIsInRhc2tkYXRlIiwidG9EYXRlU3RyaW5nIiwiYWRkcHJvamVjdCIsIndlZWtUYXNrcyIsInRoaXN3ZWVrIiwic3RpY2t5d2FsbCIsImRheSIsImdldERheSIsInN0YXJ0IiwiZ2V0VGltZSIsImVuZCIsInNob3dXZWVrUGFnZSJdLCJzb3VyY2VSb290IjoiIn0=