(()=>{"use strict";var e={d:(t,n)=>{for(var d in n)e.o(n,d)&&!e.o(t,d)&&Object.defineProperty(t,d,{enumerable:!0,get:n[d]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{O:()=>$,w:()=>x});let t=1;const n=document.querySelector(".tasks"),d=document.querySelector(".rightpanelheading");function c(e){const d=document.createElement("div");d.classList.add("task");const c=document.createElement("input");c.type="checkbox",c.id=`${t}`;const o=document.createElement("label");o.setAttribute("for",`${t}`),o.innerHTML=`${e.name}`;const r=document.createElement("div");r.innerHTML=`${e.priority}`;const i=document.createElement("div");i.innerHTML=`${e.date}`||"--",t++,d.appendChild(c),d.appendChild(o),d.appendChild(r),d.appendChild(i),n.appendChild(d)}function o(){document.querySelectorAll(".options");const e=document.querySelector(".active");let t=[];for(let n of x)e.innerHTML==n.projectname&&t.push(n);if(t.length){d.innerHTML=`${e.innerHTML}`,n.innerHTML="";for(let e of t)c(e)}else n.innerHTML="",L(e.innerHTML)}function r(e,t,n,d,c){return{name:e,projectname:t,priority:n,date:d,completed:c}}const i=document.querySelector(".rightpanel"),a=document.querySelector(".rightpanelheading"),l=document.querySelector(".tasks");l.innerHTML="";const s=document.createElement("button");s.innerHTML="Add Task";let u=!0;const m=document.querySelector(".popupcontainer");let p=!0;function L(e){a.innerHTML=`${e}`,l.innerHTML="yayyy you created project",u&&(u=!1,i.appendChild(s)),s.addEventListener("click",(()=>{!function(){p=!0,m.classList.remove("hidden");const e=document.querySelector(".formbox"),t=document.querySelector(".buttons");t.innerHTML="";const n=document.createElement("button"),d=document.createElement("button");n.innerHTML="Add",d.innerHTML="Cancel",d.setAttribute("type","button"),n.setAttribute("type","button"),t.appendChild(n),t.appendChild(d),n.addEventListener("click",(()=>{!function(){const e=document.querySelector(".active"),t=document.getElementById("title"),n=document.getElementById("priority"),d=document.getElementById("date"),c=new r(t.value,e.innerHTML,n.value,d.value,"no");x.push(c),t.value="",n.value="low",d.value=""}(),m.classList.add("hidden"),p=!1,o()})),d.addEventListener("click",(e=>{m.classList.add("hidden")})),document.addEventListener("keydown",(e=>{p&&"Enter"===e.key&&n.click()})),e.addEventListener("click",(e=>{e.stopPropagation()})),m.addEventListener("click",(e=>{e.stopPropagation(),m.classList.add("hidden")}))}()}))}let y=0,v=document.querySelectorAll(".option");function h(){v.forEach((e=>{e.classList.remove("selected")}))}function f(){document.querySelector(".active").classList.remove("active")}const E=document.querySelector(".projectcontainer");let k=!0,T=!0;function g(){if(k){const e=document.createElement("input");e.setAttribute("type","text"),e.setAttribute("id","inputbox"),e.style.margin="8px 12px";const t=document.createElement("projecticon");t.classList.add("projecticon"),t.style.backgroundColor=`${$[y]}`,y++,6==y&&(y=0);const n=document.createElement("div"),d=document.createElement("div");d.classList.add("option"),d.classList.add("projectoption"),E.appendChild(e),e.focus(),k=!1;let c=!1;document.addEventListener("keydown",(o=>{"Enter"!=o.key||""===e.value||c||(n.innerHTML=`${e.value}`,E.removeChild(e),k=!0,d.appendChild(t),d.appendChild(n),E.appendChild(d),v=document.querySelectorAll(".option"),h(),T||f(),d.classList.add("selected"),n.classList.add("active"),T=!1,L(e.value),c=!0,document.removeEventListener("keydown",(()=>{})))})),d.addEventListener("click",(()=>{h(),f(),d.classList.add("selected"),n.classList.add("active"),x.length?o():L(document.querySelector(".active").innerHTML)}))}else E.removeChild(document.getElementById("inputbox")),k=!0}const H=document.querySelector(".rightpanelheading"),M=document.querySelector(".tasks");function b(e){if(H.innerHTML="Your Today's Tasks",!e.length){M.innerHTML="No Task here, add a project and add tasks to get started";const e=document.createElement("div");e.innerHTML="+ Add Project",e.classList.add("addprojectfresh"),M.appendChild(e),e.addEventListener("click",g)}}const q=document.querySelector(".rightpanelheading"),S=document.querySelector(".tasks"),C=document.getElementById("today"),j=document.getElementById("thisweek"),A=document.getElementById("stickywall"),w=document.querySelector(".addproject"),$=["#ffaeae","#ffee93","#ffc09f","#a39fe1","#fcf5c7","#a0ced9","#adf7b6"];let x=[];b(x),C.addEventListener("click",(()=>{h(),C.classList.add("selected"),b(x)})),j.addEventListener("click",(()=>{h(),j.classList.add("selected"),function(e){if(q.innerHTML="Tasks for this week",console.log(e),!e.length){S.innerHTML="No Task here, add a project and add tasks to get started";const e=document.createElement("div");e.innerHTML="+ Add Project",e.classList.add("addprojectfresh"),S.appendChild(e),e.addEventListener("click",g)}}(x)})),A.addEventListener("click",(()=>{h(),A.classList.add("selected")})),w.addEventListener("click",g)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFVBQVksZ0JBQ3ZCd0QsRUFBVy9ELFVBQVVDLElBQUksbUJBQ3pCLEVBQWNVLFlBQVlvRCxHQUUxQkEsRUFBV2xDLGlCQUFpQixRQUFTcUIsRUFDekMsQ0FDSixDQ0tJbUIsQ0FBYXJELEVBQU0sSUFHdkJrRCxFQUFXckMsaUJBQWlCLFNBQVMsS0FDakNlLElBQ0FzQixFQUFXbEUsVUFBVUMsSUFBSSxXQUFXLElBSXhDOEQsRUFBV2xDLGlCQUFpQixRQUFTcUIsRSIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy91cGRhdGluZ1Rhc2tzLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy90YXNrTWFuaXB1bGF0aW9uLmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9wcm9qZWN0UGFnZS5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvYWRkcmVtb3ZlUHJvamVjdHMuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3RvZGF5LmpzIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy90aGlzd2Vlay5qcyIsIndlYnBhY2s6Ly90b2RvLWxpc3QvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVGhlIHJlcXVpcmUgc2NvcGVcbnZhciBfX3dlYnBhY2tfcmVxdWlyZV9fID0ge307XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJpbXBvcnQgeyB0YXNrcyB9IGZyb20gXCIuL2luZGV4XCI7XG5pbXBvcnQgZGlzcGxheVN0YXJ0UHJvamVjdFBhZ2UgZnJvbSBcIi4vcHJvamVjdFBhZ2VcIjtcblxubGV0IGk9MTtcblxuY29uc3QgdGFza2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrcycpO1xuY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yaWdodHBhbmVsaGVhZGluZycpO1xuXG5mdW5jdGlvbiBkaXNwbGF5VGFza3NPblNjcmVlbih0YXNrKSB7XG4gICAgY29uc3QgdGFza3JvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIHRhc2tyb3cuY2xhc3NMaXN0LmFkZCgndGFzaycpO1xuXG4gICAgY29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgIGNoZWNrYm94LnR5cGUgPSBcImNoZWNrYm94XCI7XG4gICAgY2hlY2tib3guaWQgPSBgJHtpfWA7XG4gICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJyxgJHtpfWApO1xuICAgIGxhYmVsLmlubmVySFRNTCA9IGAke3Rhc2submFtZX1gO1xuICAgIGNvbnN0IHByaW9yaXR5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgcHJpb3JpdHkuaW5uZXJIVE1MID0gYCR7dGFzay5wcmlvcml0eX1gO1xuICAgIGNvbnN0IGRhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkYXRlLmlubmVySFRNTCA9IGAke3Rhc2suZGF0ZX1gIHx8ICctLSc7XG4gICAgaSsrO1xuXG4gICAgdGFza3Jvdy5hcHBlbmRDaGlsZChjaGVja2JveCk7XG4gICAgdGFza3Jvdy5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgdGFza3Jvdy5hcHBlbmRDaGlsZChwcmlvcml0eSk7XG4gICAgdGFza3Jvdy5hcHBlbmRDaGlsZChkYXRlKTtcblxuICAgIHRhc2tjb250YWluZXIuYXBwZW5kQ2hpbGQodGFza3Jvdyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHVwZGF0ZVBhbmVsKCkge1xuICAgIGNvbnN0IG1lbnVvcHRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm9wdGlvbnMnKTtcblxuICAgIGNvbnN0IGN1cnJlbnRseVNlbGVjdGVkUHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUnKTsgIC8vZXh0cmFjdHMgdGhlIG5hbWUgb2YgdGhlIGN1cnJlbnRseSBzZWxlY3RlZCBwcm9qZWN0XG5cbiAgICBsZXQgdGFza3NJbkN1cnJlbnRseVNlbGVjdGVkUHJvamVjdCA9IFtdO1xuXG4gICAgZm9yKGxldCB0YXNrIG9mIHRhc2tzKSB7XG4gICAgICAgIGlmKGN1cnJlbnRseVNlbGVjdGVkUHJvamVjdC5pbm5lckhUTUwgPT0gdGFzay5wcm9qZWN0bmFtZSkge1xuICAgICAgICAgICAgdGFza3NJbkN1cnJlbnRseVNlbGVjdGVkUHJvamVjdC5wdXNoKHRhc2spO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaWYoIXRhc2tzSW5DdXJyZW50bHlTZWxlY3RlZFByb2plY3QubGVuZ3RoKSB7XG4gICAgICAgIHRhc2tjb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgZGlzcGxheVN0YXJ0UHJvamVjdFBhZ2UoY3VycmVudGx5U2VsZWN0ZWRQcm9qZWN0LmlubmVySFRNTCk7XG4gICAgfVxuICAgICAgICBcbiAgICBlbHNlIHtcbiAgICAgICAgaGVhZGluZy5pbm5lckhUTUwgPSBgJHtjdXJyZW50bHlTZWxlY3RlZFByb2plY3QuaW5uZXJIVE1MfWA7XG4gICAgICAgIHRhc2tjb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgICAgZm9yKGxldCBlYWNodGFzayBvZiB0YXNrc0luQ3VycmVudGx5U2VsZWN0ZWRQcm9qZWN0KSB7XG4gICAgICAgICAgICBkaXNwbGF5VGFza3NPblNjcmVlbihlYWNodGFzayk7XG4gICAgICAgIH1cbiAgICB9XG59IiwiaW1wb3J0IHsgdGFza3MgfSBmcm9tIFwiLi9pbmRleFwiO1xuaW1wb3J0IHVwZGF0ZVBhbmVsIGZyb20gXCIuL3VwZGF0aW5nVGFza3NcIjtcblxuXG5mdW5jdGlvbiBjcmVhdGVUYXNrT2JqZWN0KG5hbWUsIHByb2plY3RuYW1lLCBwcmlvcml0eSwgZGF0ZSwgY29tcGxldGVkKSB7XG4gICAgcmV0dXJuIHsgbmFtZSwgcHJvamVjdG5hbWUsIHByaW9yaXR5LCBkYXRlLCBjb21wbGV0ZWQgfTtcbn1cblxuZnVuY3Rpb24gYWRkVGFza09iamVjdCgpIHtcbiAgICBjb25zdCBjdXJyZW50bHlTZWxlY3RlZFByb2plY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJyk7XG5cbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aXRsZScpO1xuICAgIGNvbnN0IHByaW9yaXR5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ByaW9yaXR5Jyk7XG4gICAgY29uc3QgZGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXRlJyk7XG5cbiAgICBjb25zdCBuZXd0YXNrID0gbmV3IGNyZWF0ZVRhc2tPYmplY3QodGl0bGUudmFsdWUsY3VycmVudGx5U2VsZWN0ZWRQcm9qZWN0LmlubmVySFRNTCxwcmlvcml0eS52YWx1ZSxkYXRlLnZhbHVlLCdubycpO1xuXG4gICAgdGFza3MucHVzaChuZXd0YXNrKTtcblxuICAgIHRpdGxlLnZhbHVlPVwiXCI7XG4gICAgcHJpb3JpdHkudmFsdWU9XCJsb3dcIjtcbiAgICBkYXRlLnZhbHVlPVwiXCI7XG59XG5cbmV4cG9ydCB7IGFkZFRhc2tPYmplY3QgfTsiLCJpbXBvcnQgeyB0YXNrcyB9IGZyb20gXCIuL2luZGV4XCI7XG5pbXBvcnQgeyBhZGRUYXNrT2JqZWN0IH0gZnJvbSBcIi4vdGFza01hbmlwdWxhdGlvblwiO1xuaW1wb3J0IHVwZGF0ZVBhbmVsIGZyb20gXCIuL3VwZGF0aW5nVGFza3NcIjtcblxuY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJpZ2h0cGFuZWwnKTtcbmNvbnN0IGhlYWRpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmlnaHRwYW5lbGhlYWRpbmcnKTtcblxuY29uc3QgdGFza2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrcycpO1xudGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuXG5jb25zdCBhZGRUYXNrID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG5hZGRUYXNrLmlubmVySFRNTCA9IFwiQWRkIFRhc2tcIjtcbmxldCBmaXJzdCA9IHRydWU7XG5jb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cGNvbnRhaW5lcicpO1xuXG5sZXQgcHJlc2VudCA9IHRydWU7XG5cblxuZnVuY3Rpb24gYWRkVGFza1BvcHVwKCkge1xuICAgIHByZXNlbnQgPSB0cnVlO1xuXG4gICAgcG9wdXAuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG5cbiAgICBjb25zdCBmb3JtYm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1ib3gnKTtcblxuICAgIGNvbnN0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYnV0dG9ucycpO1xuXG4gICAgYnV0dG9ucy5pbm5lckhUTUwgPSBcIlwiO1xuXG4gICAgY29uc3QgYWRkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgY29uc3QgY2FuY2VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgYWRkLmlubmVySFRNTCA9IFwiQWRkXCI7XG4gICAgY2FuY2VsLmlubmVySFRNTCA9IFwiQ2FuY2VsXCI7XG5cbiAgICBjYW5jZWwuc2V0QXR0cmlidXRlKCd0eXBlJywgJ2J1dHRvbicpO1xuICAgIGFkZC5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAnYnV0dG9uJyk7XG5cbiAgICBidXR0b25zLmFwcGVuZENoaWxkKGFkZCk7XG4gICAgYnV0dG9ucy5hcHBlbmRDaGlsZChjYW5jZWwpO1xuXG4gICAgLy9zZW5kcyBmb3Igb2JqZWN0IGNyZWF0aW9uIGFuZCBhZGRpdGlvblxuICAgIGFkZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgYWRkVGFza09iamVjdCgpO1xuICAgICAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcHJlc2VudCA9IGZhbHNlO1xuICAgICAgICB1cGRhdGVQYW5lbCgpO1xuICAgIH0pO1xuXG4gICAgLy9jYW5jZWwgYnV0dG9uIHJlbW92ZXMgdGhlIG92ZXJsYXlcbiAgICBjYW5jZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgICBwb3B1cC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9KTtcblxuICAgIC8vbGlua3MgZW50ZXIgIGtleSB0byBhZGQgYnV0dG9uXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgICAgIGlmIChwcmVzZW50KSB7XG4gICAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgICAgICAgICAgIGFkZC5jbGljaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvL3ByZXZlbnRzIGJ1YmJsaW5nXG4gICAgZm9ybWJveC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSk7XG4gICAgIC8vb3ZlcmxheSBjbG9zZXMgd2hlbiBjbGlja2VkIG9uIGJhY2tncm91bmRcbiAgICBwb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHBvcHVwLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBkaXNwbGF5U3RhcnRQcm9qZWN0UGFnZShuYW1lKSB7XG4gICAgaGVhZGluZy5pbm5lckhUTUwgPSBgJHtuYW1lfWA7XG4gICAgdGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcInlheXl5IHlvdSBjcmVhdGVkIHByb2plY3RcIjtcblxuICAgIGlmIChmaXJzdCkge1xuICAgICAgICBmaXJzdCA9IGZhbHNlO1xuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYWRkVGFzayk7XG4gICAgfVxuXG4gICAgYWRkVGFzay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgYWRkVGFza1BvcHVwKCk7XG4gICAgfSk7XG5cbn0iLCJpbXBvcnQgeyBjb2xvcnMsIHRhc2tzIH0gZnJvbSBcIi4vaW5kZXhcIjtcbmltcG9ydCBkaXNwbGF5U3RhcnRQcm9qZWN0UGFnZSBmcm9tIFwiLi9wcm9qZWN0UGFnZVwiO1xuaW1wb3J0IHVwZGF0ZVBhbmVsIGZyb20gXCIuL3VwZGF0aW5nVGFza3NcIjtcblxubGV0IGk9MDtcblxubGV0IG9wdGlvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcub3B0aW9uJyk7XG5cbmZ1bmN0aW9uIHJlbW92ZVNlbGVjdGVkQ2xhc3MoKSB7XG4gICAgb3B0aW9ucy5mb3JFYWNoKG9wdCA9PiB7XG4gICAgICAgIG9wdC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiByZW1vdmVBY3RpdmVDbGFzcygpIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG59XG5cbmNvbnN0IHByb2plY3RDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvamVjdGNvbnRhaW5lcicpO1xuXG5sZXQgbm90UHJlc2VudCA9IHRydWU7XG5sZXQgZmlyc3Q9dHJ1ZTtcblxuZnVuY3Rpb24gYWRkTmV3UHJvamVjdCgpIHtcbiAgICBpZiAobm90UHJlc2VudCkge1xuICAgICAgICBjb25zdCBpbnB1dGJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JylcbiAgICAgICAgaW5wdXRib3guc2V0QXR0cmlidXRlKCd0eXBlJywgJ3RleHQnKTtcbiAgICAgICAgaW5wdXRib3guc2V0QXR0cmlidXRlKCdpZCcsICdpbnB1dGJveCcpXG4gICAgICAgIGlucHV0Ym94LnN0eWxlLm1hcmdpbiA9IFwiOHB4IDEycHhcIjtcblxuICAgICAgICBjb25zdCBwcm9qZWN0aWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3Byb2plY3RpY29uJyk7XG4gICAgICAgIHByb2plY3RpY29uLmNsYXNzTGlzdC5hZGQoJ3Byb2plY3RpY29uJyk7XG4gICAgICAgIHByb2plY3RpY29uLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IGAke2NvbG9yc1tpXX1gO1xuICAgICAgICBpKys7XG4gICAgICAgIGlmKGk9PTYpXG4gICAgICAgICAgICBpPTA7XG5cbiAgICAgICAgY29uc3QgcHJvamVjdG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgb3B0aW9uLmNsYXNzTGlzdC5hZGQoJ29wdGlvbicpO1xuICAgICAgICBvcHRpb24uY2xhc3NMaXN0LmFkZCgncHJvamVjdG9wdGlvbicpO1xuXG5cbiAgICAgICAgcHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChpbnB1dGJveCk7XG5cbiAgICAgICAgaW5wdXRib3guZm9jdXMoKTtcblxuICAgICAgICBub3RQcmVzZW50ID0gZmFsc2U7XG5cbiAgICAgICAgbGV0IGRvbmUgPSBmYWxzZTtcblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChlLmtleSA9PSBcIkVudGVyXCIgJiYgaW5wdXRib3gudmFsdWUgIT09IFwiXCIgJiYgIWRvbmUpIHtcbiAgICAgICAgICAgICAgICBwcm9qZWN0bmFtZS5pbm5lckhUTUwgPSBgJHtpbnB1dGJveC52YWx1ZX1gO1xuICAgICAgICAgICAgICAgIHByb2plY3RDb250YWluZXIucmVtb3ZlQ2hpbGQoaW5wdXRib3gpO1xuICAgICAgICAgICAgICAgIG5vdFByZXNlbnQgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgb3B0aW9uLmFwcGVuZENoaWxkKHByb2plY3RpY29uKTtcbiAgICAgICAgICAgICAgICBvcHRpb24uYXBwZW5kQ2hpbGQocHJvamVjdG5hbWUpO1xuXG4gICAgICAgICAgICAgICAgcHJvamVjdENvbnRhaW5lci5hcHBlbmRDaGlsZChvcHRpb24pO1xuICAgICAgICAgICAgICAgIFxuXG4gICAgICAgICAgICAgICAgb3B0aW9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5vcHRpb24nKTtcblxuICAgICAgICAgICAgICAgIHJlbW92ZVNlbGVjdGVkQ2xhc3MoKTtcbiAgICAgICAgICAgICAgICBpZighZmlyc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVtb3ZlQWN0aXZlQ2xhc3MoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgb3B0aW9uLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICAgICAgcHJvamVjdG5hbWUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgZmlyc3Q9ZmFsc2U7XG4gICAgICAgICAgICAgICAgZGlzcGxheVN0YXJ0UHJvamVjdFBhZ2UoaW5wdXRib3gudmFsdWUpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIGRvbmUgPXRydWU7XG5cbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKCkgPT4ge30pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBvcHRpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgICAgICByZW1vdmVTZWxlY3RlZENsYXNzKCk7XG4gICAgICAgICAgICByZW1vdmVBY3RpdmVDbGFzcygpO1xuICAgICAgICAgICAgb3B0aW9uLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgICBwcm9qZWN0bmFtZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYoIXRhc2tzLmxlbmd0aClcbiAgICAgICAgICAgICAgICBkaXNwbGF5U3RhcnRQcm9qZWN0UGFnZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlJykuaW5uZXJIVE1MKTtcbiAgICAgICAgICAgIGVsc2UgXG4gICAgICAgICAgICAgICAgdXBkYXRlUGFuZWwoKTtcbiAgICAgICAgfSlcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHByb2plY3RDb250YWluZXIucmVtb3ZlQ2hpbGQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2lucHV0Ym94JykpO1xuICAgICAgICBub3RQcmVzZW50PXRydWU7XG4gICAgfVxufVxuXG5leHBvcnQge3JlbW92ZVNlbGVjdGVkQ2xhc3MsYWRkTmV3UHJvamVjdH07IiwiaW1wb3J0IHsgYWRkTmV3UHJvamVjdCB9IGZyb20gXCIuL2FkZHJlbW92ZVByb2plY3RzXCI7XG5cbmNvbnN0IGhlYWRpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmlnaHRwYW5lbGhlYWRpbmcnKTtcblxuY29uc3QgdGFza2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy50YXNrcycpO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzaG93VG9kYXlQYWdlKHRhc2tzKSB7XG4gICAgaGVhZGluZy5pbm5lckhUTUwgPSBcIllvdXIgVG9kYXkncyBUYXNrc1wiO1xuICAgIGlmKCF0YXNrcy5sZW5ndGgpIHtcbiAgICAgICAgdGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIk5vIFRhc2sgaGVyZSwgYWRkIGEgcHJvamVjdCBhbmQgYWRkIHRhc2tzIHRvIGdldCBzdGFydGVkXCJcbiAgICAgICAgY29uc3QgYWRkcHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBhZGRwcm9qZWN0LmlubmVySFRNTCA9IFwiKyBBZGQgUHJvamVjdFwiO1xuICAgICAgICBhZGRwcm9qZWN0LmNsYXNzTGlzdC5hZGQoJ2FkZHByb2plY3RmcmVzaCcpO1xuICAgICAgICB0YXNrY29udGFpbmVyLmFwcGVuZENoaWxkKGFkZHByb2plY3QpO1xuXG4gICAgICAgIGFkZHByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGROZXdQcm9qZWN0KTtcbiAgICB9XG59IiwiaW1wb3J0IHsgYWRkTmV3UHJvamVjdCB9IGZyb20gXCIuL2FkZHJlbW92ZVByb2plY3RzXCI7XG5cblxuY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yaWdodHBhbmVsaGVhZGluZycpO1xuXG5jb25zdCB0YXNrY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhc2tzJyk7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHNob3dXZWVrUGFnZSh0YXNrcykge1xuICAgIGhlYWRpbmcuaW5uZXJIVE1MID0gXCJUYXNrcyBmb3IgdGhpcyB3ZWVrXCI7XG4gICAgY29uc29sZS5sb2codGFza3MpO1xuICAgIGlmKCF0YXNrcy5sZW5ndGgpIHtcbiAgICAgICAgdGFza2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIk5vIFRhc2sgaGVyZSwgYWRkIGEgcHJvamVjdCBhbmQgYWRkIHRhc2tzIHRvIGdldCBzdGFydGVkXCJcbiAgICAgICAgY29uc3QgYWRkcHJvamVjdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBhZGRwcm9qZWN0LmlubmVySFRNTCA9IFwiKyBBZGQgUHJvamVjdFwiO1xuICAgICAgICBhZGRwcm9qZWN0LmNsYXNzTGlzdC5hZGQoJ2FkZHByb2plY3RmcmVzaCcpO1xuICAgICAgICB0YXNrY29udGFpbmVyLmFwcGVuZENoaWxkKGFkZHByb2plY3QpO1xuXG4gICAgICAgIGFkZHByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhZGROZXdQcm9qZWN0KTtcbiAgICB9XG59IiwiaW1wb3J0IHNob3dUb2RheVBhZ2UgZnJvbSBcIi4vdG9kYXlcIjtcbmltcG9ydCB7IHJlbW92ZVNlbGVjdGVkQ2xhc3MsIGFkZE5ld1Byb2plY3R9IGZyb20gXCIuL2FkZHJlbW92ZVByb2plY3RzXCI7XG5pbXBvcnQgc2hvd1dlZWtQYWdlIGZyb20gXCIuL3RoaXN3ZWVrXCI7XG5cbmNvbnN0IHRvZGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZGF5Jyk7XG5jb25zdCB0aGlzd2VlayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0aGlzd2VlaycpO1xuY29uc3Qgc3RpY2t5d2FsbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdGlja3l3YWxsJyk7XG5jb25zdCBhZGRwcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFkZHByb2plY3QnKTtcblxuXG5jb25zdCBjb2xvcnMgPSBbJyNmZmFlYWUnLCAnI2ZmZWU5MycsICcjZmZjMDlmJywgJyNhMzlmZTEnLCAnI2ZjZjVjNycsICcjYTBjZWQ5JywgJyNhZGY3YjYnXTtcbmxldCB0YXNrcyA9IFtdO1xuXG5zaG93VG9kYXlQYWdlKHRhc2tzKTtcblxudG9kYXkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgcmVtb3ZlU2VsZWN0ZWRDbGFzcygpO1xuICAgIHRvZGF5LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgc2hvd1RvZGF5UGFnZSh0YXNrcyk7XG59KTtcblxudGhpc3dlZWsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgcmVtb3ZlU2VsZWN0ZWRDbGFzcygpO1xuICAgIHRoaXN3ZWVrLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgc2hvd1dlZWtQYWdlKHRhc2tzKTtcbn0pO1xuXG5zdGlja3l3YWxsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHJlbW92ZVNlbGVjdGVkQ2xhc3MoKTtcbiAgICBzdGlja3l3YWxsLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG59KTtcblxuXG5hZGRwcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWRkTmV3UHJvamVjdCk7XG5cbmV4cG9ydCB7Y29sb3JzLHRhc2tzfTsiXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJpIiwidGFza2NvbnRhaW5lciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImhlYWRpbmciLCJkaXNwbGF5VGFza3NPblNjcmVlbiIsInRhc2siLCJ0YXNrcm93IiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImNoZWNrYm94IiwidHlwZSIsImlkIiwibGFiZWwiLCJzZXRBdHRyaWJ1dGUiLCJpbm5lckhUTUwiLCJuYW1lIiwicHJpb3JpdHkiLCJkYXRlIiwiYXBwZW5kQ2hpbGQiLCJ1cGRhdGVQYW5lbCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJjdXJyZW50bHlTZWxlY3RlZFByb2plY3QiLCJ0YXNrc0luQ3VycmVudGx5U2VsZWN0ZWRQcm9qZWN0IiwidGFza3MiLCJwcm9qZWN0bmFtZSIsInB1c2giLCJsZW5ndGgiLCJlYWNodGFzayIsImRpc3BsYXlTdGFydFByb2plY3RQYWdlIiwiY3JlYXRlVGFza09iamVjdCIsImNvbXBsZXRlZCIsImNvbnRhaW5lciIsImFkZFRhc2siLCJmaXJzdCIsInBvcHVwIiwicHJlc2VudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmUiLCJmb3JtYm94IiwiYnV0dG9ucyIsImNhbmNlbCIsInRpdGxlIiwiZ2V0RWxlbWVudEJ5SWQiLCJuZXd0YXNrIiwidmFsdWUiLCJhZGRUYXNrT2JqZWN0IiwiZSIsImNsaWNrIiwic3RvcFByb3BhZ2F0aW9uIiwiYWRkVGFza1BvcHVwIiwib3B0aW9ucyIsInJlbW92ZVNlbGVjdGVkQ2xhc3MiLCJmb3JFYWNoIiwib3B0IiwicmVtb3ZlQWN0aXZlQ2xhc3MiLCJwcm9qZWN0Q29udGFpbmVyIiwibm90UHJlc2VudCIsImFkZE5ld1Byb2plY3QiLCJpbnB1dGJveCIsInN0eWxlIiwibWFyZ2luIiwicHJvamVjdGljb24iLCJiYWNrZ3JvdW5kQ29sb3IiLCJjb2xvcnMiLCJvcHRpb24iLCJmb2N1cyIsImRvbmUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJzaG93VG9kYXlQYWdlIiwiYWRkcHJvamVjdCIsInRvZGF5IiwidGhpc3dlZWsiLCJzdGlja3l3YWxsIiwiY29uc29sZSIsImxvZyIsInNob3dXZWVrUGFnZSJdLCJzb3VyY2VSb290IjoiIn0=